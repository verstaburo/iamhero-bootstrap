/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/assets/scripts/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 27);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

var throttle = __webpack_require__(1);
var debounce = __webpack_require__(30);

module.exports = {
	throttle: throttle,
	debounce: debounce
};


/***/ }),
/* 1 */
/***/ (function(module, exports) {

/* eslint-disable no-undefined,no-param-reassign,no-shadow */

/**
 * Throttle execution of a function. Especially useful for rate limiting
 * execution of handlers on events like resize and scroll.
 *
 * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.
 * @param  {Boolean}   noTrailing     Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the
 *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time
 *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,
 *                                    the internal counter is reset)
 * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,
 *                                    to `callback` when the throttled-function is executed.
 * @param  {Boolean}   debounceMode   If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),
 *                                    schedule `callback` to execute after `delay` ms.
 *
 * @return {Function}  A new, throttled, function.
 */
module.exports = function ( delay, noTrailing, callback, debounceMode ) {

	// After wrapper has stopped being called, this timeout ensures that
	// `callback` is executed at the proper times in `throttle` and `end`
	// debounce modes.
	var timeoutID;

	// Keep track of the last time `callback` was executed.
	var lastExec = 0;

	// `noTrailing` defaults to falsy.
	if ( typeof noTrailing !== 'boolean' ) {
		debounceMode = callback;
		callback = noTrailing;
		noTrailing = undefined;
	}

	// The `wrapper` function encapsulates all of the throttling / debouncing
	// functionality and when executed will limit the rate at which `callback`
	// is executed.
	function wrapper () {

		var self = this;
		var elapsed = Number(new Date()) - lastExec;
		var args = arguments;

		// Execute `callback` and update the `lastExec` timestamp.
		function exec () {
			lastExec = Number(new Date());
			callback.apply(self, args);
		}

		// If `debounceMode` is true (at begin) this is used to clear the flag
		// to allow future `callback` executions.
		function clear () {
			timeoutID = undefined;
		}

		if ( debounceMode && !timeoutID ) {
			// Since `wrapper` is being called for the first time and
			// `debounceMode` is true (at begin), execute `callback`.
			exec();
		}

		// Clear any existing timeout.
		if ( timeoutID ) {
			clearTimeout(timeoutID);
		}

		if ( debounceMode === undefined && elapsed > delay ) {
			// In throttle mode, if `delay` time has been exceeded, execute
			// `callback`.
			exec();

		} else if ( noTrailing !== true ) {
			// In trailing throttle mode, since `delay` time has not been
			// exceeded, schedule `callback` to execute `delay` ms after most
			// recent execution.
			//
			// If `debounceMode` is true (at begin), schedule `clear` to execute
			// after `delay` ms.
			//
			// If `debounceMode` is false (at end), schedule `callback` to
			// execute after `delay` ms.
			timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);
		}

	}

	// Return the wrapper function.
	return wrapper;

};


/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  var ctxEl = document.getElementById("activityChart");

  if (!ctxEl) {
    return;
  }

  var ctx = ctxEl.getContext('2d');

  var i = 1;
  var labelsData = [];
  for (i = 1; i <= 30; i++) {
    labelsData.push(i);
  }

  var dataSet = [48, 56, 66, 54, 36, 30, 56, 60, 60, 51, 51, 56];

  var customTooltips = function customTooltips(tooltip) {
    $(this._chart.canvas).css("cursor", "pointer");

    var positionY = this._chart.canvas.offsetTop;
    var positionX = this._chart.canvas.offsetLeft;

    $(".chartjs-tooltip").css({
      opacity: 0
    });

    if (!tooltip || !tooltip.opacity) {
      return;
    }

    if (tooltip.dataPoints.length > 0) {
      tooltip.dataPoints.forEach(function (dataPoint) {
        var content = dataPoint.yLabel;
        var $tooltip = $("#tooltip-" + dataPoint.datasetIndex);

        $tooltip.html(content);
        $tooltip.css({
          opacity: 1,
          top: positionY + dataPoint.y + "px",
          left: positionX + dataPoint.x + "px"
        });
      });
    }
  };

  var activityChart = new Chart(ctx, {
    type: 'bar',
    data: {

      labels: labelsData,

      datasets: [{
        data: dataSet,
        backgroundColor: 'rgba(255, 255, 255, .28)',
        borderColor: 'rgba(255, 255, 255, .5)',
        hoverBackgroundColor: '#fff',
        hoverBorderColor: '#fff',
        borderWidth: 1,
        borderSkipped: 'bottom'
      }]
    },

    options: {
      responsive: true,

      title: {
        display: false
      },

      legend: {
        display: false
      },

      tooltips: {
        enabled: false,
        mode: 'index',
        intersect: false,
        custom: customTooltips
      },

      scales: {

        xAxes: [{
          barThickness: '6',

          barPercentage: '0',

          categoryPercentage: '0',

          gridLines: {
            display: false,
            color: 'rgba(255,255,255,.28)'
          },

          ticks: {
            fontColor: '#fff',
            fontSize: '9',
            fontFamily: 'Open Sans, sans-serif'
          }
        }],

        yAxes: [{
          gridLines: {
            display: false,
            color: '#fff'
          },
          ticks: {
            display: false,
            beginAtZero: true
          }
        }]
      }
    }
  });
});

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /* eslint-disable */
  $('.checkbox, .checkbox-inline').each(function () {
    var box = $('<span></span>').addClass('checkbox-box');
    $(this).find('label').append(box);
  });
});

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/

/* harmony default export */ __webpack_exports__["a"] = (function () {
  $('.company-video__controls').click(function () {
    $(this).fadeOut();
    $(this).siblings('.company-video__item')[0].src += '&autoplay=1';
  });
});

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/

/* harmony default export */ __webpack_exports__["a"] = (function () {
  $(document).on('click', '.js-card-more', function () {
    $(this).parents('.inner-card').addClass('inner-card_expanded');
    $(this).hide();
    $(this).siblings('.js-card-less').show();
  });

  $(document).on('click', '.js-card-less', function () {
    $(this).parents('.inner-card').removeClass('inner-card_expanded');
    $(this).hide();
    $(this).siblings('.js-card-more').show();
  });

  $(document).on('click', '.js-card-buy', function (e) {
    e.preventDefault();
    e.stopPropagation();
    $(this).parents('.inner-card').toggleClass('active');
    $(this).toggleClass('active');
    $(this).siblings('.js-card-buy-target').toggle();
  });
});

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $('.js-progress').each(function () {
    var item = $(this);
    if (!item.length) {
      return;
    }
    var value = item.find('.js-progress__control').val();
    var bar = +item.find('.js-progress__value').attr('stroke-dasharray') * (1 - 0.01 * +value);
    item.find('.js-progress__output').text(value + '%');
    item.find('.js-progress__value').attr('stroke-dashoffset', bar);
  });
});

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__scripts_common_map__ = __webpack_require__(28);

/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {
  __WEBPACK_IMPORTED_MODULE_0__scripts_common_map__["a" /* default */].then(function (googleMaps) {
    // eslint-disable-next-line
    function initSmallMap() {
      var mapElement = document.getElementById('map');
      if (!mapElement) {
        return;
      }
      var mapFrame = new google.maps.Map(mapElement, {
        zoom: 17,
        center: {
          lat: 25.793240,
          lng: -80.351103
        },
        scrollwheel: false
      });
      // eslint-disable-next-line
      var marker = new google.maps.Marker({
        position: {
          lat: 25.793240,
          lng: -80.351103
        },
        map: mapFrame
      });
    }

    initSmallMap();

    function initBranchMap() {
      var mapBranchElement = document.getElementById('map-branch');
      if (!mapBranchElement) {
        return;
      }
      var branchCenter = {
        lat: 48.7297424,
        lng: 5.8553172
      };
      var mapBranch = new google.maps.Map(mapBranchElement, {
        zoom: 7,
        center: branchCenter,
        scrollwheel: false
      });
      var image = {
        url: 'assets/images/icon/figure.png'
      };
      // eslint-disable-next-line
      var luxemburg = new google.maps.Marker({
        position: {
          lat: 49.6075838,
          lng: 6.0658304
        },
        icon: image,
        map: mapBranch
      });
      // eslint-disable-next-line
      var troyes = new google.maps.Marker({
        position: {
          lat: 48.2955989,
          lng: 4.0845315
        },
        icon: image,
        map: mapBranch
      });
      // eslint-disable-next-line
      var karlsruhe = new google.maps.Marker({
        position: {
          lat: 49.0054691,
          lng: 8.4050689
        },
        icon: image,
        map: mapBranch
      });
    }

    initBranchMap();

    $('a[href="#branch"]').click(function () {
      setTimeout(function () {
        initBranchMap();
      }, 200);
    });

    function initJobMap() {
      var mapJobElement = document.getElementById('map-job');
      if (!mapJobElement) {
        return;
      }
      var jobCenter = {
        lat: 47.8111474,
        lng: 13.0503576
      };
      var mapJob = new google.maps.Map(mapJobElement, {
        zoom: 8,
        center: jobCenter,
        scrollwheel: false
      });
      var image = {
        url: 'assets/images/icon/figure.png'
      };
      // eslint-disable-next-line
      var marker = new google.maps.Marker({
        position: jobCenter,
        map: mapJob,
        icon: image
      });
    }

    initJobMap();
  }).catch(function (f) {
    return f;
  });
});

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $('.radio, .radio-inline').each(function () {
    var box = $('<span></span>').addClass('radio-box');
    $(this).find('label').append(box);
  });
});

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// import { debounce } from 'throttle-debounce';

/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  var $selector = $('input[type="range"]');

  if (!$selector.length) {
    return;
  }

  $selector.rangeslider({
    polyfill: false,
    rangeClass: 'rangeslider',
    disabledClass: 'rangeslider_disabled',
    horizontalClass: 'rangeslider_horizontal',
    verticalClass: 'rangeslider_vertical',
    fillClass: 'rangeslider__fill',
    handleClass: 'rangeslider__handle'
  });

  function valueOutput(el) {
    var value = el.val();
    var output = el.parents('.rangeslider-wrap').find('.rangeslider-wrap__output');
    if (output.length) {
      output.html(value + '%');
    }

    var outputSalary = el.parents('.rangeslider-wrap').find('.rangeslider-wrap__output-salary');
    if (outputSalary.length) {
      outputSalary.html(value + ' $/h');
    }

    var outputCustom = el.parents('.rangeslider-wrap').find('.rangeslider-wrap__output-custom');
    if (outputCustom.length) {
      outputCustom.html(value);
      var handlerPosition = outputCustom.siblings('.rangeslider').find('.rangeslider__handle').css('left');
      outputCustom.css('left', handlerPosition);
    }

    var outputCustomPercent = el.parents('.rangeslider-wrap').find('.rangeslider-wrap__output-custom-percent');
    if (outputCustomPercent.length) {
      var outputCustomRecalc = function outputCustomRecalc() {
        var handlerPosition = outputCustomPercent.siblings('.rangeslider').find('.rangeslider__handle').css('left');

        if (parseInt(handlerPosition, 10) < outputCustomPercentLabel.outerWidth() + 15) {
          outputCustomPercent.removeClass('moveable');
        } else {
          outputCustomPercent.addClass('moveable');
          outputCustomPercent.css('left', handlerPosition);
        }
      };

      var outputCustomPercentLabel = outputCustomPercent.siblings('.rangeslider-wrap__label');

      outputCustomPercent.html(value + '%');

      outputCustomRecalc();

      $(window).on('resize', outputCustomRecalc);
    }
  }

  $selector.each(function () {
    valueOutput($(this));
  });

  $selector.on('input', function () {
    valueOutput($(this));
  });
});

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {

  var select = $('.js-select');
  var select2 = $('.js-select2');

  if (!select.length && !select2.length) {
    return;
  }

  Selectize.define('readOnly', function (options) {
    var self = this;

    this.setup_original = this.setup;

    this.setup = function () {
      self.setup_original();
      this.$control_input.prop("disabled", "true");
      this.$control_input.prop("readonly", "true");
    };
  });

  select.selectize({
    plugins: ['readOnly'],
    readOnly: true
  });

  select2.selectize();
});

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $(document).on('click', '[data-side]', function (e) {
    e.preventDefault();
    var target = $(this).attr('data-side');
    $(target).addClass('active');
    $(target).find('.side-modal__toggler').addClass('active');
  });

  $(document).on('click', '.side-modal__toggler', function () {
    $(this).toggleClass('active');
    $(this).parents('.side-modal').toggleClass('active');
  });
});

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_throttle_debounce__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_throttle_debounce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_throttle_debounce__);

/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {
  var el = $('.js-sidebar');

  var stickyInit = function stickyInit() {

    if ($(window).width() < 1280 || !el.length) {
      el.trigger('sticky_kit:detach');
      return;
    }

    // el.trigger('sticky_kit:detach');
    el.stick_in_parent({
      offset_top: 100,
      parent: '.row'
    });
  };

  stickyInit();
  $(window).resize(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_throttle_debounce__["debounce"])(200, false, stickyInit));

  var scrollSpyInit = function scrollSpyInit() {
    // Cache selectors
    var topMenu = $(".sidebar-menu");
    if (!topMenu.length) {
      return;
    }

    var lastId,
        topMenuHeight = topMenu.outerHeight(),

    // All list items
    menuItems = topMenu.find("a"),

    // Anchors corresponding to menu items
    scrollItems = menuItems.map(function () {
      var item = $($(this).attr("href"));
      if (item.length) {
        return item;
      }
    });

    // Bind click handler to menu items
    // so we can get a fancy scroll animation
    menuItems.click(function (e) {
      var href = $(this).attr("href"),
          offsetTop = href === "#" ? 0 : $(window).width() > 1280 ? $(href).offset().top - 100 : $(href).offset().top - 57;
      $('html, body').stop().animate({
        scrollTop: offsetTop
      }, 500);
      e.preventDefault();
    });

    // Bind to scroll
    $(window).scroll(function () {
      // Get container scroll position
      var fromTop = $(this).scrollTop() + topMenuHeight;

      // Get id of current scroll item
      var cur = scrollItems.map(function () {
        if ($(this).offset().top < fromTop) return this;
      });
      // Get the id of the current element
      cur = cur[cur.length - 1];
      var id = cur && cur.length ? cur[0].id : "";

      if (lastId !== id) {
        lastId = id;
        // Set/remove active class
        menuItems.parent().removeClass("active").end().filter("[href='#" + id + "']").parent().addClass("active");
      }
    });
  };

  scrollSpyInit();
  $(window).resize(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_throttle_debounce__["debounce"])(300, false, scrollSpyInit));

  $(document).on('click', '.sidebar-menu__item', function () {
    if ($(window).width() < 1280) {
      $('.sidebar-wrap, .header__burger').removeClass('active');
    }
  });
});

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable */
/* harmony default export */ __webpack_exports__["a"] = (function () {
  $('.switch__item').click(function () {
    $(this).siblings('.switch__item').removeClass('active');
    $(this).addClass('active');
    $(this).siblings('input').val($(this).find('.switch__text').text());
  });
});

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  var btnClass = '.to-top',
      w = $(window);

  w.on('scroll', function () {
    if (w.scrollTop() - w.innerHeight() > 0) {
      $(btnClass).addClass('active');
    } else {
      $(btnClass).removeClass('active');
    }
  });

  $(document).on('click', btnClass, function (e) {
    e.preventDefault();

    $('html, body').animate({
      scrollTop: 0
    }, 600, 'swing');
  });
});

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/

  $(document).on('click', '.upload', function (e) {
    // eslint-disable-line func-names
    if ($(e.target).hasClass('upload__input')) {
      return;
    }

    e.preventDefault();
    e.stopPropagation();

    $(this).find('.upload__input').trigger('click');
  });
});

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $(document).on('click', '.header__burger', function (e) {
    e.preventDefault();
    $(this).toggleClass('active');
    $('.sidebar-wrap').toggleClass('active');
  });
});

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  // eslint-disable-next-line
  var heroSlider = new Swiper('.hero-slider', {
    nextButton: '.slider__control_next',
    prevButton: '.slider__control_prev',
    slidesPerView: 4,
    spaceBetween: 35,
    breakpoints: {
      1280: {
        slidesPerView: 3,
        spaceBetween: 40
      },
      1024: {
        slidesPerView: 2,
        spaceBetween: 60
      },
      640: {
        slidesPerView: 1
      }
    }
  });
});

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {

  $(document).on('click', '.inner-header__col_dropdown', function (e) {
    e.preventDefault();
    e.stopPropagation();
    $(this).siblings($(this)).removeClass('active');
    $(this).parents('.inner-header').find('.inner-header__search').removeClass('active');
    $(this).toggleClass('active');
  });

  $(document).on('click', '.inner-header__search-btn', function (e) {
    e.preventDefault();
    e.stopPropagation();
    $(this).siblings('.inner-header__notify-wrap').find('.inner-header__col_dropdown').removeClass('active');
    $(this).siblings('.inner-header__search').toggleClass('active');
  });

  $(document).on('click', '.inner-header__burger', function (e) {
    $(this).toggleClass('active');
    e.preventDefault();
    $('.inner-sidebar').toggleClass('active');
  });

  $(document).on('click', function () {
    $('.inner-header__col_dropdown').removeClass('active');
  });
});

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $(document).on('input', '.messages__input-area', function () {
    if (!$(this).text().length) {
      $(this).siblings('.messages__placeholder').fadeIn();
    } else {
      $(this).siblings('.messages__placeholder').fadeOut();
    }
  });
});

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  // eslint-disable-next-line
  var newsSlider = new Swiper('.news-slider', {
    nextButton: '.slider__control_next',
    prevButton: '.slider__control_prev',
    slidesPerView: 3,
    spaceBetween: 30,
    breakpoints: {
      1280: {
        slidesPerView: 2
      },
      1024: {
        slidesPerView: 1
      }
    }
  });
});

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/

/* harmony default export */ __webpack_exports__["a"] = (function () {
  $(document).on('click', '.js-video-play', function (e) {
    e.preventDefault();

    var mediaElement = $(this).siblings('.plate__video-placeholder').find('.plate__video');

    $(this).fadeOut();

    if (mediaElement.prop('tagName') === 'IFRAME') {
      mediaElement[0].src += '&autoplay=1';
    } else if (mediaElement.prop('tagName') === 'VIDEO') {
      mediaElement[0].play();
    } else {
      console.log("Can't find video in placeholder");
    }
  });
});

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  var map = $('.job-listing__map');
  if (!map.length) {
    return;
  }

  function toggleMap() {
    if ($(window).width() < 1600) {
      map.removeClass('active');
      map.find('.side-modal__toggler').removeClass('active');
    } else {
      map.addClass('active');
      map.find('.side-modal__toggler').addClass('active');
    }
  }

  $(window).on('resize', toggleMap);
});

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {
  // txt is the text to measure, font is the full CSS font declaration,
  // e.g. "bold 12px Verdana"
  function measureText(txt, font) {
    var id = 'text-width-tester',
        $tag = $('#' + id);
    if (!$tag.length) {
      $tag = $('<span id="' + id + '" style="display:none;font:' + font + ';">' + txt + '</span>');
      $('body').append($tag);
    } else {
      $tag.css({
        font: font
      }).html(txt);
    }
    return {
      width: $tag.width(),
      height: $tag.height()
    };
  }

  window.shrinkToFill = function (input, fontSize, fontWeight, fontFamily) {
    if (!input.length) {
      return;
    }
    var $input = $(input),
        txt = $input.val() || $input.text(),
        maxWidth = $input.parent().width(),
        // add some padding
    font = fontWeight + " " + fontSize + "px " + fontFamily;
    // see how big the text is at the default size
    var textWidth = measureText(txt, font).width;
    if (textWidth > maxWidth) {
      // if it's too big, calculate a new font size
      // the extra .9 here makes up for some over-measures
      fontSize = fontSize * maxWidth / textWidth;
      font = fontWeight + " " + fontSize + "px " + fontFamily;
      // and set the style on the input
      $input.css({
        font: font
      });
    } else {
      // in case the font size has been set small and
      // the text was then deleted
      $input.css({
        font: font
      });
    }
  };

  shrinkToFill($('.responsive-font'), 53, 100, "Museo Sans, sans-serif");

  $(document).on('input', '.responsive-font', function () {
    shrinkToFill($(this), 53, 100, "Museo Sans, sans-serif");
  });
});

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_throttle_debounce__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_throttle_debounce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_throttle_debounce__);


/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/

  function fullButton() {
    var el = $('.page__summary-btn');

    if (!el) {
      return;
    }

    if ($(window).width() < 1279) {
      if (el.attr('style')) {
        el.removeAttr('style');
      }
      return;
    }

    var offset = ($(window).width() - el.parents('.container').outerWidth()) / 2;
    el.css('width', el.outerWidth() + offset);
  }

  fullButton();

  $(window).resize(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_throttle_debounce__["debounce"])(200, false, fullButton));
});

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {
  var grid = $('.isotope');
  var mobileFilterClass = '.js-case-filter-mobile';
  var filterClass = '.js-case-filter';

  if (!grid.length) {
    return;
  }

  grid.isotope({
    itemSelector: '.isotope-item',
    layoutMode: 'masonry'
  });

  $(document).on('change', mobileFilterClass, function () {
    grid.isotope({
      filter: $(mobileFilterClass).val()
    });
  });

  $(document).on('click', filterClass, function () {
    $(filterClass).removeClass('active');
    $(this).addClass('active');

    grid.isotope({
      filter: $(this).attr('data-filter')
    });
  });
});

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {
  window.sr = ScrollReveal({
    distance: '55px',
    viewFactor: 0.5
  });

  if (!$('.sr-animate').length) {
    return;
  }

  sr.reveal('.sr-animate');
});

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__blocks_rangeslider_rangeslider__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__blocks_switch_switch__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_plates_video_play__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_isotope__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__blocks_sidebar_menu_sidebar_menu__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__common_scrollreveal__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__blocks_upload_upload__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__blocks_inner_card_inner_card__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__blocks_company_video_company_video__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__blocks_map_map__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_inner_header_inner_header__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__blocks_select_select__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__components_news_slider_news_slider__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_hero_slider_hero_slider__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__common_fitText__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__components_header_header__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__blocks_to_top_to_top__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__blocks_js_progress_js_progress__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__blocks_activity_chart_activity_chart__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__components_messages_messages__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__common_fullBtn__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__blocks_checkbox_checkbox__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__blocks_radio_radio__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__blocks_side_modal_side_modal__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__pages_job_listing_job_listing__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__pages_shortlist_shortlist__ = __webpack_require__(31);



























/* eslint-disable*/
$(function () {
  objectFitImages();
  svg4everybody();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__components_header_header__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16__blocks_to_top_to_top__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__blocks_rangeslider_rangeslider__["a" /* default */])();
  window.initRangeSlider = __WEBPACK_IMPORTED_MODULE_0__blocks_rangeslider_rangeslider__["a" /* default */];
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__blocks_switch_switch__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__components_plates_video_play__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__common_isotope__["a" /* default */])();
  window.initIsotope = __WEBPACK_IMPORTED_MODULE_3__common_isotope__["a" /* default */];
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__blocks_sidebar_menu_sidebar_menu__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__common_scrollreveal__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__blocks_upload_upload__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__blocks_inner_card_inner_card__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__blocks_company_video_company_video__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__blocks_map_map__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__components_inner_header_inner_header__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__blocks_select_select__["a" /* default */])();
  window.initSelect = __WEBPACK_IMPORTED_MODULE_11__blocks_select_select__["a" /* default */];
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__components_news_slider_news_slider__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_13__components_hero_slider_hero_slider__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_14__common_fitText__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_17__blocks_js_progress_js_progress__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18__blocks_activity_chart_activity_chart__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_19__components_messages_messages__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_20__common_fullBtn__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_21__blocks_checkbox_checkbox__["a" /* default */])();
  window.checkboxInit = __WEBPACK_IMPORTED_MODULE_21__blocks_checkbox_checkbox__["a" /* default */];
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_22__blocks_radio_radio__["a" /* default */])();
  window.radioInit = __WEBPACK_IMPORTED_MODULE_22__blocks_radio_radio__["a" /* default */];
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_23__blocks_side_modal_side_modal__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_24__pages_job_listing_job_listing__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25__pages_shortlist_shortlist__["a" /* default */])();
});

/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_load_google_maps_api__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_load_google_maps_api___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_load_google_maps_api__);


/* harmony default export */ __webpack_exports__["a"] = (__WEBPACK_IMPORTED_MODULE_0_load_google_maps_api___default()({ key: 'AIzaSyAhTmgtMtEDorDsQwyrkrLPjAie8g7IV34' }));

/***/ }),
/* 29 */
/***/ (function(module, exports) {

var CALLBACK_NAME = '__googleMapsApiOnLoadCallback'

var OPTIONS_KEYS = ['client', 'key', 'language', 'region', 'v']

module.exports = function(options) {
  options = options || {}

  return new Promise(function(resolve, reject) {
    // Exit if not running inside a browser.
    if (typeof window === 'undefined') {
      return reject(
        new Error('Can only load the Google Maps API in the browser')
      )
    }

    // Reject the promise after a timeout.
    var timeoutId = setTimeout(function() {
      window[CALLBACK_NAME] = function() {} // Set the on load callback to a no-op.
      reject(new Error('Could not load the Google Maps API'))
    }, options.timeout || 10000)

    // Hook up the on load callback.
    window[CALLBACK_NAME] = function() {
      if (timeoutId !== null) {
        clearTimeout(timeoutId)
      }
      resolve(window.google.maps)
      delete window[CALLBACK_NAME]
    }

    // Prepare the `script` tag to be inserted into the page.
    var scriptElement = document.createElement('script')
    var params = ['callback=' + CALLBACK_NAME]
    OPTIONS_KEYS.forEach(function(key) {
      if (options[key]) {
        params.push(key + '=' + options[key])
      }
    })
    if (options.libraries && options.libraries.length) {
      params.push('libraries=' + options.libraries.join(','))
    }
    scriptElement.src =
      'https://maps.googleapis.com/maps/api/js?' + params.join('&')

    // Insert the `script` tag.
    document.body.appendChild(scriptElement)
  })
}


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

/* eslint-disable no-undefined */

var throttle = __webpack_require__(1);

/**
 * Debounce execution of a function. Debouncing, unlike throttling,
 * guarantees that a function is only executed a single time, either at the
 * very beginning of a series of calls, or at the very end.
 *
 * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.
 * @param  {Boolean}  atBegin       Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds
 *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.
 *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).
 * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,
 *                                  to `callback` when the debounced-function is executed.
 *
 * @return {Function} A new, debounced function.
 */
module.exports = function ( delay, atBegin, callback ) {
	return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);
};


/***/ }),
/* 31 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $(document).on('click', '.js-pick', function () {
    $('.page__overlay').fadeIn();
    $('.inner-card').addClass('inner-card_pick');
  });

  $(document).on('click', '.js-pick-dismiss', function () {
    $('.page__overlay').fadeOut();
    $('.side-modal, .side-modal__toggler').removeClass('active');
    $('.inner-card').removeClass('inner-card_pick');
  });
});

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBkNWFmZjNiZmY1MTU5MDc0YjYzYiIsIndlYnBhY2s6Ly8vLi9+L3Rocm90dGxlLWRlYm91bmNlL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vdGhyb3R0bGUtZGVib3VuY2UvdGhyb3R0bGUuanMiLCJ3ZWJwYWNrOi8vL2FwcC9ibG9ja3MvYWN0aXZpdHktY2hhcnQvYWN0aXZpdHktY2hhcnQuanMiLCJ3ZWJwYWNrOi8vL2FwcC9ibG9ja3MvY2hlY2tib3gvY2hlY2tib3guanMiLCJ3ZWJwYWNrOi8vL2FwcC9ibG9ja3MvY29tcGFueS12aWRlby9jb21wYW55LXZpZGVvLmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL2lubmVyLWNhcmQvaW5uZXItY2FyZC5qcyIsIndlYnBhY2s6Ly8vYXBwL2Jsb2Nrcy9qcy1wcm9ncmVzcy9qcy1wcm9ncmVzcy5qcyIsIndlYnBhY2s6Ly8vYXBwL2Jsb2Nrcy9tYXAvbWFwLmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL3JhZGlvL3JhZGlvLmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL3Jhbmdlc2xpZGVyL3Jhbmdlc2xpZGVyLmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL3NlbGVjdC9zZWxlY3QuanMiLCJ3ZWJwYWNrOi8vL2FwcC9ibG9ja3Mvc2lkZS1tb2RhbC9zaWRlLW1vZGFsLmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL3NpZGViYXItbWVudS9zaWRlYmFyLW1lbnUuanMiLCJ3ZWJwYWNrOi8vL2FwcC9ibG9ja3Mvc3dpdGNoL3N3aXRjaC5qcyIsIndlYnBhY2s6Ly8vYXBwL2Jsb2Nrcy90by10b3AvdG8tdG9wLmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL3VwbG9hZC91cGxvYWQuanMiLCJ3ZWJwYWNrOi8vL2FwcC9jb21wb25lbnRzL2hlYWRlci9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vL2FwcC9jb21wb25lbnRzL2hlcm8tc2xpZGVyL2hlcm8tc2xpZGVyLmpzIiwid2VicGFjazovLy9hcHAvY29tcG9uZW50cy9pbm5lci1oZWFkZXIvaW5uZXItaGVhZGVyLmpzIiwid2VicGFjazovLy9hcHAvY29tcG9uZW50cy9tZXNzYWdlcy9tZXNzYWdlcy5qcyIsIndlYnBhY2s6Ly8vYXBwL2NvbXBvbmVudHMvbmV3cy1zbGlkZXIvbmV3cy1zbGlkZXIuanMiLCJ3ZWJwYWNrOi8vL2FwcC9jb21wb25lbnRzL3BsYXRlcy92aWRlby1wbGF5LmpzIiwid2VicGFjazovLy9hcHAvcGFnZXMvam9iLWxpc3Rpbmcvam9iLWxpc3RpbmcuanMiLCJ3ZWJwYWNrOi8vL2FwcC9zY3JpcHRzL2NvbW1vbi9maXRUZXh0LmpzIiwid2VicGFjazovLy9hcHAvc2NyaXB0cy9jb21tb24vZnVsbEJ0bi5qcyIsIndlYnBhY2s6Ly8vYXBwL3NjcmlwdHMvY29tbW9uL2lzb3RvcGUuanMiLCJ3ZWJwYWNrOi8vL2FwcC9zY3JpcHRzL2NvbW1vbi9zY3JvbGxyZXZlYWwuanMiLCJ3ZWJwYWNrOi8vL2FwcC9zY3JpcHRzL2FwcC5qcyIsIndlYnBhY2s6Ly8vYXBwL3NjcmlwdHMvY29tbW9uL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvYWQtZ29vZ2xlLW1hcHMtYXBpL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vdGhyb3R0bGUtZGVib3VuY2UvZGVib3VuY2UuanMiLCJ3ZWJwYWNrOi8vL2FwcC9wYWdlcy9zaG9ydGxpc3Qvc2hvcnRsaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Fzc2V0cy9zY3JpcHRzL1wiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDI3KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBkNWFmZjNiZmY1MTU5MDc0YjYzYiIsInZhciB0aHJvdHRsZSA9IHJlcXVpcmUoJy4vdGhyb3R0bGUnKTtcbnZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJy4vZGVib3VuY2UnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdHRocm90dGxlOiB0aHJvdHRsZSxcblx0ZGVib3VuY2U6IGRlYm91bmNlXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Rocm90dGxlLWRlYm91bmNlL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmaW5lZCxuby1wYXJhbS1yZWFzc2lnbixuby1zaGFkb3cgKi9cblxuLyoqXG4gKiBUaHJvdHRsZSBleGVjdXRpb24gb2YgYSBmdW5jdGlvbi4gRXNwZWNpYWxseSB1c2VmdWwgZm9yIHJhdGUgbGltaXRpbmdcbiAqIGV4ZWN1dGlvbiBvZiBoYW5kbGVycyBvbiBldmVudHMgbGlrZSByZXNpemUgYW5kIHNjcm9sbC5cbiAqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICAgIGRlbGF5ICAgICAgICAgIEEgemVyby1vci1ncmVhdGVyIGRlbGF5IGluIG1pbGxpc2Vjb25kcy4gRm9yIGV2ZW50IGNhbGxiYWNrcywgdmFsdWVzIGFyb3VuZCAxMDAgb3IgMjUwIChvciBldmVuIGhpZ2hlcikgYXJlIG1vc3QgdXNlZnVsLlxuICogQHBhcmFtICB7Qm9vbGVhbn0gICBub1RyYWlsaW5nICAgICBPcHRpb25hbCwgZGVmYXVsdHMgdG8gZmFsc2UuIElmIG5vVHJhaWxpbmcgaXMgdHJ1ZSwgY2FsbGJhY2sgd2lsbCBvbmx5IGV4ZWN1dGUgZXZlcnkgYGRlbGF5YCBtaWxsaXNlY29uZHMgd2hpbGUgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm90dGxlZC1mdW5jdGlvbiBpcyBiZWluZyBjYWxsZWQuIElmIG5vVHJhaWxpbmcgaXMgZmFsc2Ugb3IgdW5zcGVjaWZpZWQsIGNhbGxiYWNrIHdpbGwgYmUgZXhlY3V0ZWQgb25lIGZpbmFsIHRpbWVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgdGhlIGxhc3QgdGhyb3R0bGVkLWZ1bmN0aW9uIGNhbGwuIChBZnRlciB0aGUgdGhyb3R0bGVkLWZ1bmN0aW9uIGhhcyBub3QgYmVlbiBjYWxsZWQgZm9yIGBkZWxheWAgbWlsbGlzZWNvbmRzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgaW50ZXJuYWwgY291bnRlciBpcyByZXNldClcbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSAgY2FsbGJhY2sgICAgICAgQSBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCBhZnRlciBkZWxheSBtaWxsaXNlY29uZHMuIFRoZSBgdGhpc2AgY29udGV4dCBhbmQgYWxsIGFyZ3VtZW50cyBhcmUgcGFzc2VkIHRocm91Z2gsIGFzLWlzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byBgY2FsbGJhY2tgIHdoZW4gdGhlIHRocm90dGxlZC1mdW5jdGlvbiBpcyBleGVjdXRlZC5cbiAqIEBwYXJhbSAge0Jvb2xlYW59ICAgZGVib3VuY2VNb2RlICAgSWYgYGRlYm91bmNlTW9kZWAgaXMgdHJ1ZSAoYXQgYmVnaW4pLCBzY2hlZHVsZSBgY2xlYXJgIHRvIGV4ZWN1dGUgYWZ0ZXIgYGRlbGF5YCBtcy4gSWYgYGRlYm91bmNlTW9kZWAgaXMgZmFsc2UgKGF0IGVuZCksXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlIGBjYWxsYmFja2AgdG8gZXhlY3V0ZSBhZnRlciBgZGVsYXlgIG1zLlxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSAgQSBuZXcsIHRocm90dGxlZCwgZnVuY3Rpb24uXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCBkZWxheSwgbm9UcmFpbGluZywgY2FsbGJhY2ssIGRlYm91bmNlTW9kZSApIHtcblxuXHQvLyBBZnRlciB3cmFwcGVyIGhhcyBzdG9wcGVkIGJlaW5nIGNhbGxlZCwgdGhpcyB0aW1lb3V0IGVuc3VyZXMgdGhhdFxuXHQvLyBgY2FsbGJhY2tgIGlzIGV4ZWN1dGVkIGF0IHRoZSBwcm9wZXIgdGltZXMgaW4gYHRocm90dGxlYCBhbmQgYGVuZGBcblx0Ly8gZGVib3VuY2UgbW9kZXMuXG5cdHZhciB0aW1lb3V0SUQ7XG5cblx0Ly8gS2VlcCB0cmFjayBvZiB0aGUgbGFzdCB0aW1lIGBjYWxsYmFja2Agd2FzIGV4ZWN1dGVkLlxuXHR2YXIgbGFzdEV4ZWMgPSAwO1xuXG5cdC8vIGBub1RyYWlsaW5nYCBkZWZhdWx0cyB0byBmYWxzeS5cblx0aWYgKCB0eXBlb2Ygbm9UcmFpbGluZyAhPT0gJ2Jvb2xlYW4nICkge1xuXHRcdGRlYm91bmNlTW9kZSA9IGNhbGxiYWNrO1xuXHRcdGNhbGxiYWNrID0gbm9UcmFpbGluZztcblx0XHRub1RyYWlsaW5nID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0Ly8gVGhlIGB3cmFwcGVyYCBmdW5jdGlvbiBlbmNhcHN1bGF0ZXMgYWxsIG9mIHRoZSB0aHJvdHRsaW5nIC8gZGVib3VuY2luZ1xuXHQvLyBmdW5jdGlvbmFsaXR5IGFuZCB3aGVuIGV4ZWN1dGVkIHdpbGwgbGltaXQgdGhlIHJhdGUgYXQgd2hpY2ggYGNhbGxiYWNrYFxuXHQvLyBpcyBleGVjdXRlZC5cblx0ZnVuY3Rpb24gd3JhcHBlciAoKSB7XG5cblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0dmFyIGVsYXBzZWQgPSBOdW1iZXIobmV3IERhdGUoKSkgLSBsYXN0RXhlYztcblx0XHR2YXIgYXJncyA9IGFyZ3VtZW50cztcblxuXHRcdC8vIEV4ZWN1dGUgYGNhbGxiYWNrYCBhbmQgdXBkYXRlIHRoZSBgbGFzdEV4ZWNgIHRpbWVzdGFtcC5cblx0XHRmdW5jdGlvbiBleGVjICgpIHtcblx0XHRcdGxhc3RFeGVjID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHRcdFx0Y2FsbGJhY2suYXBwbHkoc2VsZiwgYXJncyk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgYGRlYm91bmNlTW9kZWAgaXMgdHJ1ZSAoYXQgYmVnaW4pIHRoaXMgaXMgdXNlZCB0byBjbGVhciB0aGUgZmxhZ1xuXHRcdC8vIHRvIGFsbG93IGZ1dHVyZSBgY2FsbGJhY2tgIGV4ZWN1dGlvbnMuXG5cdFx0ZnVuY3Rpb24gY2xlYXIgKCkge1xuXHRcdFx0dGltZW91dElEID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmICggZGVib3VuY2VNb2RlICYmICF0aW1lb3V0SUQgKSB7XG5cdFx0XHQvLyBTaW5jZSBgd3JhcHBlcmAgaXMgYmVpbmcgY2FsbGVkIGZvciB0aGUgZmlyc3QgdGltZSBhbmRcblx0XHRcdC8vIGBkZWJvdW5jZU1vZGVgIGlzIHRydWUgKGF0IGJlZ2luKSwgZXhlY3V0ZSBgY2FsbGJhY2tgLlxuXHRcdFx0ZXhlYygpO1xuXHRcdH1cblxuXHRcdC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lb3V0LlxuXHRcdGlmICggdGltZW91dElEICkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRJRCk7XG5cdFx0fVxuXG5cdFx0aWYgKCBkZWJvdW5jZU1vZGUgPT09IHVuZGVmaW5lZCAmJiBlbGFwc2VkID4gZGVsYXkgKSB7XG5cdFx0XHQvLyBJbiB0aHJvdHRsZSBtb2RlLCBpZiBgZGVsYXlgIHRpbWUgaGFzIGJlZW4gZXhjZWVkZWQsIGV4ZWN1dGVcblx0XHRcdC8vIGBjYWxsYmFja2AuXG5cdFx0XHRleGVjKCk7XG5cblx0XHR9IGVsc2UgaWYgKCBub1RyYWlsaW5nICE9PSB0cnVlICkge1xuXHRcdFx0Ly8gSW4gdHJhaWxpbmcgdGhyb3R0bGUgbW9kZSwgc2luY2UgYGRlbGF5YCB0aW1lIGhhcyBub3QgYmVlblxuXHRcdFx0Ly8gZXhjZWVkZWQsIHNjaGVkdWxlIGBjYWxsYmFja2AgdG8gZXhlY3V0ZSBgZGVsYXlgIG1zIGFmdGVyIG1vc3Rcblx0XHRcdC8vIHJlY2VudCBleGVjdXRpb24uXG5cdFx0XHQvL1xuXHRcdFx0Ly8gSWYgYGRlYm91bmNlTW9kZWAgaXMgdHJ1ZSAoYXQgYmVnaW4pLCBzY2hlZHVsZSBgY2xlYXJgIHRvIGV4ZWN1dGVcblx0XHRcdC8vIGFmdGVyIGBkZWxheWAgbXMuXG5cdFx0XHQvL1xuXHRcdFx0Ly8gSWYgYGRlYm91bmNlTW9kZWAgaXMgZmFsc2UgKGF0IGVuZCksIHNjaGVkdWxlIGBjYWxsYmFja2AgdG9cblx0XHRcdC8vIGV4ZWN1dGUgYWZ0ZXIgYGRlbGF5YCBtcy5cblx0XHRcdHRpbWVvdXRJRCA9IHNldFRpbWVvdXQoZGVib3VuY2VNb2RlID8gY2xlYXIgOiBleGVjLCBkZWJvdW5jZU1vZGUgPT09IHVuZGVmaW5lZCA/IGRlbGF5IC0gZWxhcHNlZCA6IGRlbGF5KTtcblx0XHR9XG5cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgd3JhcHBlciBmdW5jdGlvbi5cblx0cmV0dXJuIHdyYXBwZXI7XG5cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdGhyb3R0bGUtZGVib3VuY2UvdGhyb3R0bGUuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAvKmVzbGludC1kaXNhYmxlKi9cbiAgdmFyIGN0eEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3Rpdml0eUNoYXJ0XCIpO1xuXG4gIGlmKCFjdHhFbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjdHggPSBjdHhFbC5nZXRDb250ZXh0KCcyZCcpO1xuXG4gIGxldCBpID0gMTtcbiAgY29uc3QgbGFiZWxzRGF0YSA9IFtdO1xuICBmb3IgKGkgPSAxOyBpIDw9IDMwOyBpKyspIHtcbiAgICBsYWJlbHNEYXRhLnB1c2goaSk7XG4gIH1cblxuICBjb25zdCBkYXRhU2V0ID0gWzQ4LCA1NiwgNjYsIDU0LCAzNiwgMzAsIDU2LCA2MCwgNjAsIDUxLCA1MSwgNTZdO1xuXG4gIHZhciBjdXN0b21Ub29sdGlwcyA9IGZ1bmN0aW9uKHRvb2x0aXApIHtcbiAgICAkKHRoaXMuX2NoYXJ0LmNhbnZhcykuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKTtcblxuICAgIHZhciBwb3NpdGlvblkgPSB0aGlzLl9jaGFydC5jYW52YXMub2Zmc2V0VG9wO1xuICAgIHZhciBwb3NpdGlvblggPSB0aGlzLl9jaGFydC5jYW52YXMub2Zmc2V0TGVmdDtcblxuICAgICQoXCIuY2hhcnRqcy10b29sdGlwXCIpLmNzcyh7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgIH0pO1xuXG4gICAgaWYgKCF0b29sdGlwIHx8ICF0b29sdGlwLm9wYWNpdHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodG9vbHRpcC5kYXRhUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRvb2x0aXAuZGF0YVBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uKGRhdGFQb2ludCkge1xuICAgICAgICB2YXIgY29udGVudCA9IGRhdGFQb2ludC55TGFiZWw7XG4gICAgICAgIHZhciAkdG9vbHRpcCA9ICQoXCIjdG9vbHRpcC1cIiArIGRhdGFQb2ludC5kYXRhc2V0SW5kZXgpO1xuXG4gICAgICAgICR0b29sdGlwLmh0bWwoY29udGVudCk7XG4gICAgICAgICR0b29sdGlwLmNzcyh7XG4gICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICB0b3A6IHBvc2l0aW9uWSArIGRhdGFQb2ludC55ICsgXCJweFwiLFxuICAgICAgICAgIGxlZnQ6IHBvc2l0aW9uWCArIGRhdGFQb2ludC54ICsgXCJweFwiLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgYWN0aXZpdHlDaGFydCA9IG5ldyBDaGFydChjdHgsIHtcbiAgICB0eXBlOiAnYmFyJyxcbiAgICBkYXRhOiB7XG5cbiAgICAgIGxhYmVsczogbGFiZWxzRGF0YSxcblxuICAgICAgZGF0YXNldHM6IFt7XG4gICAgICAgIGRhdGE6IGRhdGFTZXQsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgLjI4KScsXG4gICAgICAgIGJvcmRlckNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAuNSknLFxuICAgICAgICBob3ZlckJhY2tncm91bmRDb2xvcjogJyNmZmYnLFxuICAgICAgICBob3ZlckJvcmRlckNvbG9yOiAnI2ZmZicsXG4gICAgICAgIGJvcmRlcldpZHRoOiAxLFxuICAgICAgICBib3JkZXJTa2lwcGVkOiAnYm90dG9tJyxcbiAgICAgIH1dLFxuICAgIH0sXG5cbiAgICBvcHRpb25zOiB7XG4gICAgICByZXNwb25zaXZlOiB0cnVlLFxuXG4gICAgICB0aXRsZToge1xuICAgICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICAgIH0sXG5cbiAgICAgIGxlZ2VuZDoge1xuICAgICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICAgIH0sXG5cbiAgICAgIHRvb2x0aXBzOiB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICBtb2RlOiAnaW5kZXgnLFxuICAgICAgICBpbnRlcnNlY3Q6IGZhbHNlLFxuICAgICAgICBjdXN0b206IGN1c3RvbVRvb2x0aXBzLFxuICAgICAgfSxcblxuICAgICAgc2NhbGVzOiB7XG5cbiAgICAgICAgeEF4ZXM6IFt7XG4gICAgICAgICAgYmFyVGhpY2tuZXNzOiAnNicsXG5cbiAgICAgICAgICBiYXJQZXJjZW50YWdlOiAnMCcsXG5cbiAgICAgICAgICBjYXRlZ29yeVBlcmNlbnRhZ2U6ICcwJyxcblxuICAgICAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICAgICAgZGlzcGxheTogZmFsc2UsXG4gICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsLjI4KScsXG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICBmb250Q29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnOScsXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnT3BlbiBTYW5zLCBzYW5zLXNlcmlmJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9XSxcblxuICAgICAgICB5QXhlczogW3tcbiAgICAgICAgICBncmlkTGluZXM6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZhbHNlLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH1dLFxuICAgICAgfSxcbiAgICB9LFxuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2Jsb2Nrcy9hY3Rpdml0eS1jaGFydC9hY3Rpdml0eS1jaGFydC5qcyIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgJCgnLmNoZWNrYm94LCAuY2hlY2tib3gtaW5saW5lJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgYm94ID0gJCgnPHNwYW4+PC9zcGFuPicpLmFkZENsYXNzKCdjaGVja2JveC1ib3gnKTtcbiAgICAkKHRoaXMpLmZpbmQoJ2xhYmVsJykuYXBwZW5kKGJveCk7XG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL2NoZWNrYm94L2NoZWNrYm94LmpzIiwiLyplc2xpbnQtZGlzYWJsZSovXG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgJCgnLmNvbXBhbnktdmlkZW9fX2NvbnRyb2xzJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuZmFkZU91dCgpO1xuICAgICQodGhpcykuc2libGluZ3MoJy5jb21wYW55LXZpZGVvX19pdGVtJylbMF0uc3JjICs9ICcmYXV0b3BsYXk9MSc7XG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL2NvbXBhbnktdmlkZW8vY29tcGFueS12aWRlby5qcyIsIi8qZXNsaW50LWRpc2FibGUqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLWNhcmQtbW9yZScsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5pbm5lci1jYXJkJykuYWRkQ2xhc3MoJ2lubmVyLWNhcmRfZXhwYW5kZWQnKTtcbiAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuanMtY2FyZC1sZXNzJykuc2hvdygpO1xuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLWNhcmQtbGVzcycsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5pbm5lci1jYXJkJykucmVtb3ZlQ2xhc3MoJ2lubmVyLWNhcmRfZXhwYW5kZWQnKTtcbiAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuanMtY2FyZC1tb3JlJykuc2hvdygpO1xuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLWNhcmQtYnV5JywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5pbm5lci1jYXJkJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQodGhpcykuc2libGluZ3MoJy5qcy1jYXJkLWJ1eS10YXJnZXQnKS50b2dnbGUoKTtcbiAgfSk7XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL2lubmVyLWNhcmQvaW5uZXItY2FyZC5qcyIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgLyplc2xpbnQtZGlzYWJsZSovXG4gICQoJy5qcy1wcm9ncmVzcycpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgaXRlbSA9ICQodGhpcyk7XG4gICAgaWYgKCFpdGVtLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IGl0ZW0uZmluZCgnLmpzLXByb2dyZXNzX19jb250cm9sJykudmFsKCk7XG4gICAgY29uc3QgYmFyID0gK2l0ZW0uZmluZCgnLmpzLXByb2dyZXNzX192YWx1ZScpLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknKSAqICgxIC0gKDAuMDEgKiArdmFsdWUpKTtcbiAgICBpdGVtLmZpbmQoJy5qcy1wcm9ncmVzc19fb3V0cHV0JykudGV4dCh2YWx1ZSArICclJylcbiAgICBpdGVtLmZpbmQoJy5qcy1wcm9ncmVzc19fdmFsdWUnKS5hdHRyKCdzdHJva2UtZGFzaG9mZnNldCcsIGJhcik7XG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL2pzLXByb2dyZXNzL2pzLXByb2dyZXNzLmpzIiwiaW1wb3J0IG1hcCBmcm9tICcuLi8uLi9zY3JpcHRzL2NvbW1vbi9tYXAnO1xuLyplc2xpbnQtZGlzYWJsZSovXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIG1hcC50aGVuKChnb29nbGVNYXBzKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgZnVuY3Rpb24gaW5pdFNtYWxsTWFwKCkge1xuICAgICAgY29uc3QgbWFwRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKTtcbiAgICAgIGlmICghbWFwRWxlbWVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBtYXBGcmFtZSA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwRWxlbWVudCwge1xuICAgICAgICB6b29tOiAxNyxcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgbGF0OiAyNS43OTMyNDAsXG4gICAgICAgICAgbG5nOiAtODAuMzUxMTAzLFxuICAgICAgICB9LFxuICAgICAgICBzY3JvbGx3aGVlbDogZmFsc2UsXG4gICAgICB9KTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIGxhdDogMjUuNzkzMjQwLFxuICAgICAgICAgIGxuZzogLTgwLjM1MTEwMyxcbiAgICAgICAgfSxcbiAgICAgICAgbWFwOiBtYXBGcmFtZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGluaXRTbWFsbE1hcCgpO1xuXG4gICAgZnVuY3Rpb24gaW5pdEJyYW5jaE1hcCgpIHtcbiAgICAgIGNvbnN0IG1hcEJyYW5jaEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLWJyYW5jaCcpO1xuICAgICAgaWYgKCFtYXBCcmFuY2hFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJyYW5jaENlbnRlciA9IHtcbiAgICAgICAgbGF0OiA0OC43Mjk3NDI0LFxuICAgICAgICBsbmc6IDUuODU1MzE3MixcbiAgICAgIH07XG4gICAgICBjb25zdCBtYXBCcmFuY2ggPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKG1hcEJyYW5jaEVsZW1lbnQsIHtcbiAgICAgICAgem9vbTogNyxcbiAgICAgICAgY2VudGVyOiBicmFuY2hDZW50ZXIsXG4gICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZSxcbiAgICAgIH0pO1xuICAgICAgY29uc3QgaW1hZ2UgPSB7XG4gICAgICAgIHVybDogJ2Fzc2V0cy9pbWFnZXMvaWNvbi9maWd1cmUucG5nJyxcbiAgICAgIH07XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGNvbnN0IGx1eGVtYnVyZyA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIGxhdDogNDkuNjA3NTgzOCxcbiAgICAgICAgICBsbmc6IDYuMDY1ODMwNCxcbiAgICAgICAgfSxcbiAgICAgICAgaWNvbjogaW1hZ2UsXG4gICAgICAgIG1hcDogbWFwQnJhbmNoLFxuICAgICAgfSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGNvbnN0IHRyb3llcyA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIGxhdDogNDguMjk1NTk4OSxcbiAgICAgICAgICBsbmc6IDQuMDg0NTMxNSxcbiAgICAgICAgfSxcbiAgICAgICAgaWNvbjogaW1hZ2UsXG4gICAgICAgIG1hcDogbWFwQnJhbmNoLFxuICAgICAgfSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGNvbnN0IGthcmxzcnVoZSA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICBwb3NpdGlvbjoge1xuICAgICAgICAgIGxhdDogNDkuMDA1NDY5MSxcbiAgICAgICAgICBsbmc6IDguNDA1MDY4OSxcbiAgICAgICAgfSxcbiAgICAgICAgaWNvbjogaW1hZ2UsXG4gICAgICAgIG1hcDogbWFwQnJhbmNoLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaW5pdEJyYW5jaE1hcCgpO1xuXG4gICAgJCgnYVtocmVmPVwiI2JyYW5jaFwiXScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaW5pdEJyYW5jaE1hcCgpO1xuICAgICAgfSwgMjAwKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGluaXRKb2JNYXAoKSB7XG4gICAgICBjb25zdCBtYXBKb2JFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcC1qb2InKTtcbiAgICAgIGlmICghbWFwSm9iRWxlbWVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBqb2JDZW50ZXIgPSB7XG4gICAgICAgIGxhdDogNDcuODExMTQ3NCxcbiAgICAgICAgbG5nOiAxMy4wNTAzNTc2LFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG1hcEpvYiA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwSm9iRWxlbWVudCwge1xuICAgICAgICB6b29tOiA4LFxuICAgICAgICBjZW50ZXI6IGpvYkNlbnRlcixcbiAgICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBpbWFnZSA9IHtcbiAgICAgICAgdXJsOiAnYXNzZXRzL2ltYWdlcy9pY29uL2ZpZ3VyZS5wbmcnLFxuICAgICAgfTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICBwb3NpdGlvbjogam9iQ2VudGVyLFxuICAgICAgICBtYXA6IG1hcEpvYixcbiAgICAgICAgaWNvbjogaW1hZ2UsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0Sm9iTWFwKCk7XG5cbiAgfSkuY2F0Y2goZiA9PiBmKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2Jsb2Nrcy9tYXAvbWFwLmpzIiwiZXhwb3J0IGRlZmF1bHQgKCkgPT4geyAvKmVzbGludC1kaXNhYmxlKi9cbiAgJCgnLnJhZGlvLCAucmFkaW8taW5saW5lJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgYm94ID0gJCgnPHNwYW4+PC9zcGFuPicpLmFkZENsYXNzKCdyYWRpby1ib3gnKTtcbiAgICAkKHRoaXMpLmZpbmQoJ2xhYmVsJykuYXBwZW5kKGJveCk7XG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL3JhZGlvL3JhZGlvLmpzIiwiLy8gaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICd0aHJvdHRsZS1kZWJvdW5jZSc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgLyplc2xpbnQtZGlzYWJsZSovXG4gIHZhciAkc2VsZWN0b3IgPSAkKCdpbnB1dFt0eXBlPVwicmFuZ2VcIl0nKTtcblxuICBpZighJHNlbGVjdG9yLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gICRzZWxlY3Rvci5yYW5nZXNsaWRlcih7XG4gICAgcG9seWZpbGw6IGZhbHNlLFxuICAgIHJhbmdlQ2xhc3M6ICdyYW5nZXNsaWRlcicsXG4gICAgZGlzYWJsZWRDbGFzczogJ3Jhbmdlc2xpZGVyX2Rpc2FibGVkJyxcbiAgICBob3Jpem9udGFsQ2xhc3M6ICdyYW5nZXNsaWRlcl9ob3Jpem9udGFsJyxcbiAgICB2ZXJ0aWNhbENsYXNzOiAncmFuZ2VzbGlkZXJfdmVydGljYWwnLFxuICAgIGZpbGxDbGFzczogJ3Jhbmdlc2xpZGVyX19maWxsJyxcbiAgICBoYW5kbGVDbGFzczogJ3Jhbmdlc2xpZGVyX19oYW5kbGUnLFxuICB9KTtcblxuICBmdW5jdGlvbiB2YWx1ZU91dHB1dChlbCkge1xuICAgIHZhciB2YWx1ZSA9IGVsLnZhbCgpO1xuICAgIHZhciBvdXRwdXQgPSBlbC5wYXJlbnRzKCcucmFuZ2VzbGlkZXItd3JhcCcpLmZpbmQoJy5yYW5nZXNsaWRlci13cmFwX19vdXRwdXQnKTtcbiAgICBpZiAob3V0cHV0Lmxlbmd0aCkge1xuICAgICAgb3V0cHV0Lmh0bWwodmFsdWUgKyAnJScpO1xuICAgIH1cblxuICAgIHZhciBvdXRwdXRTYWxhcnkgPSBlbC5wYXJlbnRzKCcucmFuZ2VzbGlkZXItd3JhcCcpLmZpbmQoJy5yYW5nZXNsaWRlci13cmFwX19vdXRwdXQtc2FsYXJ5Jyk7XG4gICAgaWYgKG91dHB1dFNhbGFyeS5sZW5ndGgpIHtcbiAgICAgIG91dHB1dFNhbGFyeS5odG1sKHZhbHVlICsgJyAkL2gnKTtcbiAgICB9XG5cbiAgICB2YXIgb3V0cHV0Q3VzdG9tID0gZWwucGFyZW50cygnLnJhbmdlc2xpZGVyLXdyYXAnKS5maW5kKCcucmFuZ2VzbGlkZXItd3JhcF9fb3V0cHV0LWN1c3RvbScpO1xuICAgIGlmIChvdXRwdXRDdXN0b20ubGVuZ3RoKSB7XG4gICAgICBvdXRwdXRDdXN0b20uaHRtbCh2YWx1ZSk7XG4gICAgICB2YXIgaGFuZGxlclBvc2l0aW9uID0gb3V0cHV0Q3VzdG9tLnNpYmxpbmdzKCcucmFuZ2VzbGlkZXInKS5maW5kKCcucmFuZ2VzbGlkZXJfX2hhbmRsZScpLmNzcygnbGVmdCcpO1xuICAgICAgb3V0cHV0Q3VzdG9tLmNzcygnbGVmdCcsIGhhbmRsZXJQb3NpdGlvbik7XG4gICAgfVxuXG4gICAgdmFyIG91dHB1dEN1c3RvbVBlcmNlbnQgPSBlbC5wYXJlbnRzKCcucmFuZ2VzbGlkZXItd3JhcCcpLmZpbmQoJy5yYW5nZXNsaWRlci13cmFwX19vdXRwdXQtY3VzdG9tLXBlcmNlbnQnKTtcbiAgICBpZiAob3V0cHV0Q3VzdG9tUGVyY2VudC5sZW5ndGgpIHtcbiAgICAgIHZhciBvdXRwdXRDdXN0b21QZXJjZW50TGFiZWwgPSBvdXRwdXRDdXN0b21QZXJjZW50LnNpYmxpbmdzKCcucmFuZ2VzbGlkZXItd3JhcF9fbGFiZWwnKTtcblxuICAgICAgb3V0cHV0Q3VzdG9tUGVyY2VudC5odG1sKHZhbHVlICsgJyUnKTtcblxuICAgICAgZnVuY3Rpb24gb3V0cHV0Q3VzdG9tUmVjYWxjKCkge1xuICAgICAgICB2YXIgaGFuZGxlclBvc2l0aW9uID0gb3V0cHV0Q3VzdG9tUGVyY2VudC5zaWJsaW5ncygnLnJhbmdlc2xpZGVyJykuZmluZCgnLnJhbmdlc2xpZGVyX19oYW5kbGUnKS5jc3MoJ2xlZnQnKTtcblxuICAgICAgICBpZihwYXJzZUludChoYW5kbGVyUG9zaXRpb24sIDEwKSA8IG91dHB1dEN1c3RvbVBlcmNlbnRMYWJlbC5vdXRlcldpZHRoKCkgKyAxNSkge1xuICAgICAgICAgIG91dHB1dEN1c3RvbVBlcmNlbnQucmVtb3ZlQ2xhc3MoJ21vdmVhYmxlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0cHV0Q3VzdG9tUGVyY2VudC5hZGRDbGFzcygnbW92ZWFibGUnKTtcbiAgICAgICAgICBvdXRwdXRDdXN0b21QZXJjZW50LmNzcygnbGVmdCcsIGhhbmRsZXJQb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgb3V0cHV0Q3VzdG9tUmVjYWxjKCk7XG5cbiAgICAgICQod2luZG93KS5vbigncmVzaXplJywgb3V0cHV0Q3VzdG9tUmVjYWxjKTtcbiAgICB9XG4gIH1cblxuICAkc2VsZWN0b3IuZWFjaChmdW5jdGlvbigpIHtcbiAgICB2YWx1ZU91dHB1dCgkKHRoaXMpKTtcbiAgfSlcblxuICAkc2VsZWN0b3Iub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gICAgdmFsdWVPdXRwdXQoJCh0aGlzKSk7XG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL3Jhbmdlc2xpZGVyL3Jhbmdlc2xpZGVyLmpzIiwiLyplc2xpbnQtZGlzYWJsZSovXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG5cbiAgY29uc3Qgc2VsZWN0ID0gJCgnLmpzLXNlbGVjdCcpO1xuICBjb25zdCBzZWxlY3QyID0gJCgnLmpzLXNlbGVjdDInKTtcblxuICBpZiAoIXNlbGVjdC5sZW5ndGggJiYgIXNlbGVjdDIubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgU2VsZWN0aXplLmRlZmluZSgncmVhZE9ubHknLCBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5zZXR1cF9vcmlnaW5hbCA9IHRoaXMuc2V0dXA7XG5cbiAgICB0aGlzLnNldHVwID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnNldHVwX29yaWdpbmFsKCk7XG4gICAgICB0aGlzLiRjb250cm9sX2lucHV0LnByb3AoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICB0aGlzLiRjb250cm9sX2lucHV0LnByb3AoXCJyZWFkb25seVwiLCBcInRydWVcIik7XG4gICAgfVxuICB9KTtcblxuICBzZWxlY3Quc2VsZWN0aXplKHtcbiAgICBwbHVnaW5zOiBbJ3JlYWRPbmx5J10sXG4gICAgcmVhZE9ubHk6IHRydWUsXG4gIH0pO1xuXG4gIHNlbGVjdDIuc2VsZWN0aXplKCk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9ibG9ja3Mvc2VsZWN0L3NlbGVjdC5qcyIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHsgLyplc2xpbnQtZGlzYWJsZSovXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1zaWRlXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHRhcmdldCA9ICQodGhpcykuYXR0cignZGF0YS1zaWRlJyk7XG4gICAgJCh0YXJnZXQpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRhcmdldCkuZmluZCgnLnNpZGUtbW9kYWxfX3RvZ2dsZXInKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc2lkZS1tb2RhbF9fdG9nZ2xlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRoaXMpLnBhcmVudHMoJy5zaWRlLW1vZGFsJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2Jsb2Nrcy9zaWRlLW1vZGFsL3NpZGUtbW9kYWwuanMiLCJpbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJ3Rocm90dGxlLWRlYm91bmNlJztcbi8qZXNsaW50LWRpc2FibGUqL1xuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICBjb25zdCBlbCA9ICQoJy5qcy1zaWRlYmFyJyk7XG5cbiAgY29uc3Qgc3RpY2t5SW5pdCA9ICgpID0+IHtcblxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyODAgfHwgIWVsLmxlbmd0aCkge1xuICAgICAgZWwudHJpZ2dlcignc3RpY2t5X2tpdDpkZXRhY2gnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBlbC50cmlnZ2VyKCdzdGlja3lfa2l0OmRldGFjaCcpO1xuICAgIGVsLnN0aWNrX2luX3BhcmVudCh7XG4gICAgICBvZmZzZXRfdG9wOiAxMDAsXG4gICAgICBwYXJlbnQ6ICcucm93JyxcbiAgICB9KTtcbiAgfTtcblxuICBzdGlja3lJbml0KCk7XG4gICQod2luZG93KS5yZXNpemUoZGVib3VuY2UoMjAwLCBmYWxzZSwgc3RpY2t5SW5pdCkpO1xuXG4gIGNvbnN0IHNjcm9sbFNweUluaXQgPSAoKSA9PiB7XG4gICAgLy8gQ2FjaGUgc2VsZWN0b3JzXG4gICAgdmFyIHRvcE1lbnUgPSAkKFwiLnNpZGViYXItbWVudVwiKTtcbiAgICBpZiAoIXRvcE1lbnUubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxhc3RJZCxcbiAgICAgIHRvcE1lbnVIZWlnaHQgPSB0b3BNZW51Lm91dGVySGVpZ2h0KCksXG4gICAgICAvLyBBbGwgbGlzdCBpdGVtc1xuICAgICAgbWVudUl0ZW1zID0gdG9wTWVudS5maW5kKFwiYVwiKSxcbiAgICAgIC8vIEFuY2hvcnMgY29ycmVzcG9uZGluZyB0byBtZW51IGl0ZW1zXG4gICAgICBzY3JvbGxJdGVtcyA9IG1lbnVJdGVtcy5tYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpdGVtID0gJCgkKHRoaXMpLmF0dHIoXCJocmVmXCIpKTtcbiAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gQmluZCBjbGljayBoYW5kbGVyIHRvIG1lbnUgaXRlbXNcbiAgICAvLyBzbyB3ZSBjYW4gZ2V0IGEgZmFuY3kgc2Nyb2xsIGFuaW1hdGlvblxuICAgIG1lbnVJdGVtcy5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgaHJlZiA9ICQodGhpcykuYXR0cihcImhyZWZcIiksXG4gICAgICAgIG9mZnNldFRvcCA9IGhyZWYgPT09IFwiI1wiID8gMCA6ICQod2luZG93KS53aWR0aCgpPjEyODAgPyAkKGhyZWYpLm9mZnNldCgpLnRvcCAtIDEwMCA6ICQoaHJlZikub2Zmc2V0KCkudG9wIC0gNTc7XG4gICAgICAkKCdodG1sLCBib2R5Jykuc3RvcCgpLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6IG9mZnNldFRvcFxuICAgICAgfSwgNTAwKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIC8vIEJpbmQgdG8gc2Nyb2xsXG4gICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICAgIC8vIEdldCBjb250YWluZXIgc2Nyb2xsIHBvc2l0aW9uXG4gICAgICB2YXIgZnJvbVRvcCA9ICQodGhpcykuc2Nyb2xsVG9wKCkgKyB0b3BNZW51SGVpZ2h0O1xuXG4gICAgICAvLyBHZXQgaWQgb2YgY3VycmVudCBzY3JvbGwgaXRlbVxuICAgICAgdmFyIGN1ciA9IHNjcm9sbEl0ZW1zLm1hcChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodGhpcykub2Zmc2V0KCkudG9wIDwgZnJvbVRvcClcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0pO1xuICAgICAgLy8gR2V0IHRoZSBpZCBvZiB0aGUgY3VycmVudCBlbGVtZW50XG4gICAgICBjdXIgPSBjdXJbY3VyLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGlkID0gY3VyICYmIGN1ci5sZW5ndGggPyBjdXJbMF0uaWQgOiBcIlwiO1xuXG4gICAgICBpZiAobGFzdElkICE9PSBpZCkge1xuICAgICAgICBsYXN0SWQgPSBpZDtcbiAgICAgICAgLy8gU2V0L3JlbW92ZSBhY3RpdmUgY2xhc3NcbiAgICAgICAgbWVudUl0ZW1zXG4gICAgICAgICAgLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpXG4gICAgICAgICAgLmVuZCgpLmZpbHRlcihcIltocmVmPScjXCIgKyBpZCArIFwiJ11cIikucGFyZW50KCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgc2Nyb2xsU3B5SW5pdCgpO1xuICAkKHdpbmRvdykucmVzaXplKGRlYm91bmNlKDMwMCwgZmFsc2UsIHNjcm9sbFNweUluaXQpKTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnNpZGViYXItbWVudV9faXRlbScsIGZ1bmN0aW9uKCkge1xuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8IDEyODApIHtcbiAgICAgICQoJy5zaWRlYmFyLXdyYXAsIC5oZWFkZXJfX2J1cmdlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL3NpZGViYXItbWVudS9zaWRlYmFyLW1lbnUuanMiLCIvKmVzbGludC1kaXNhYmxlICovXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gICQoJy5zd2l0Y2hfX2l0ZW0nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLnN3aXRjaF9faXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCdpbnB1dCcpLnZhbCgkKHRoaXMpLmZpbmQoJy5zd2l0Y2hfX3RleHQnKS50ZXh0KCkpO1xuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2Jsb2Nrcy9zd2l0Y2gvc3dpdGNoLmpzIiwiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAvKmVzbGludC1kaXNhYmxlKi9cbiAgY29uc3QgYnRuQ2xhc3MgPSAnLnRvLXRvcCcsXG4gICAgdyA9ICQod2luZG93KVxuXG4gIHcub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xuICAgIGlmICh3LnNjcm9sbFRvcCgpIC0gdy5pbm5lckhlaWdodCgpID4gMCkge1xuICAgICAgJChidG5DbGFzcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKGJ0bkNsYXNzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBidG5DbGFzcywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgIHNjcm9sbFRvcDogMFxuICAgIH0sIDYwMCwgJ3N3aW5nJyk7XG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL3RvLXRvcC90by10b3AuanMiLCJleHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIC8qZXNsaW50LWRpc2FibGUqL1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcudXBsb2FkJywgZnVuY3Rpb24gKGUpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBmdW5jLW5hbWVzXG4gICAgICBpZiAoJChlLnRhcmdldCkuaGFzQ2xhc3MoJ3VwbG9hZF9faW5wdXQnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICQodGhpcykuZmluZCgnLnVwbG9hZF9faW5wdXQnKS50cmlnZ2VyKCdjbGljaycpO1xuICAgIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL3VwbG9hZC91cGxvYWQuanMiLCJleHBvcnQgZGVmYXVsdCgpID0+IHtcbiAgLyplc2xpbnQtZGlzYWJsZSovXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuaGVhZGVyX19idXJnZXInLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKCcuc2lkZWJhci13cmFwJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5qcyIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICBjb25zdCBoZXJvU2xpZGVyID0gbmV3IFN3aXBlcignLmhlcm8tc2xpZGVyJywge1xyXG4gICAgbmV4dEJ1dHRvbjogJy5zbGlkZXJfX2NvbnRyb2xfbmV4dCcsXG4gICAgcHJldkJ1dHRvbjogJy5zbGlkZXJfX2NvbnRyb2xfcHJldicsXHJcbiAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgc3BhY2VCZXR3ZWVuOiAzNSxcclxuICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgIDEyODA6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxuICAgICAgICBzcGFjZUJldHdlZW46IDQwLFxyXG4gICAgICB9LFxuICAgICAgMTAyNDoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgICBzcGFjZUJldHdlZW46IDYwLFxuICAgICAgfSxcclxuICAgICAgNjQwOiB7XHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgfSk7XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvY29tcG9uZW50cy9oZXJvLXNsaWRlci9oZXJvLXNsaWRlci5qcyIsIi8qZXNsaW50LWRpc2FibGUqL1xuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuaW5uZXItaGVhZGVyX19jb2xfZHJvcGRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICQodGhpcykuc2libGluZ3MoJCh0aGlzKSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQodGhpcykucGFyZW50cygnLmlubmVyLWhlYWRlcicpLmZpbmQoJy5pbm5lci1oZWFkZXJfX3NlYXJjaCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5pbm5lci1oZWFkZXJfX3NlYXJjaC1idG4nLCBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICQodGhpcykuc2libGluZ3MoJy5pbm5lci1oZWFkZXJfX25vdGlmeS13cmFwJykuZmluZCgnLmlubmVyLWhlYWRlcl9fY29sX2Ryb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQodGhpcykuc2libGluZ3MoJy5pbm5lci1oZWFkZXJfX3NlYXJjaCcpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgfSlcblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmlubmVyLWhlYWRlcl9fYnVyZ2VyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgJCgnLmlubmVyLXNpZGViYXInKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gIH0pXG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICQoJy5pbm5lci1oZWFkZXJfX2NvbF9kcm9wZG93bicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgfSlcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2NvbXBvbmVudHMvaW5uZXItaGVhZGVyL2lubmVyLWhlYWRlci5qcyIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHtcclxuICAvKmVzbGludC1kaXNhYmxlKi9cclxuICAkKGRvY3VtZW50KS5vbignaW5wdXQnLCAnLm1lc3NhZ2VzX19pbnB1dC1hcmVhJywgZnVuY3Rpb24gKCkge1xuICAgIGlmICghJCh0aGlzKS50ZXh0KCkubGVuZ3RoKSB7XG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCcubWVzc2FnZXNfX3BsYWNlaG9sZGVyJykuZmFkZUluKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQodGhpcykuc2libGluZ3MoJy5tZXNzYWdlc19fcGxhY2Vob2xkZXInKS5mYWRlT3V0KCk7XG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2NvbXBvbmVudHMvbWVzc2FnZXMvbWVzc2FnZXMuanMiLCJleHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBjb25zdCBuZXdzU2xpZGVyID0gbmV3IFN3aXBlcignLm5ld3Mtc2xpZGVyJywge1xuICAgIG5leHRCdXR0b246ICcuc2xpZGVyX19jb250cm9sX25leHQnLFxuICAgIHByZXZCdXR0b246ICcuc2xpZGVyX19jb250cm9sX3ByZXYnLFxuICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICBicmVha3BvaW50czoge1xuICAgICAgMTI4MDoge1xuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgfSxcbiAgICAgIDEwMjQ6IHtcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9jb21wb25lbnRzL25ld3Mtc2xpZGVyL25ld3Mtc2xpZGVyLmpzIiwiLyplc2xpbnQtZGlzYWJsZSovXG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy12aWRlby1wbGF5JywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciBtZWRpYUVsZW1lbnQgPSAkKHRoaXMpLnNpYmxpbmdzKCcucGxhdGVfX3ZpZGVvLXBsYWNlaG9sZGVyJykuZmluZCgnLnBsYXRlX192aWRlbycpO1xuXG4gICAgJCh0aGlzKS5mYWRlT3V0KCk7XG5cbiAgICBpZiAobWVkaWFFbGVtZW50LnByb3AoJ3RhZ05hbWUnKSA9PT0gJ0lGUkFNRScpIHtcbiAgICAgIG1lZGlhRWxlbWVudFswXS5zcmMgKz0gJyZhdXRvcGxheT0xJztcbiAgICB9IGVsc2UgaWYgKG1lZGlhRWxlbWVudC5wcm9wKCd0YWdOYW1lJykgPT09ICdWSURFTycpIHtcbiAgICAgIG1lZGlhRWxlbWVudFswXS5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ2FuJ3QgZmluZCB2aWRlbyBpbiBwbGFjZWhvbGRlclwiKTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvY29tcG9uZW50cy9wbGF0ZXMvdmlkZW8tcGxheS5qcyIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHsgLyplc2xpbnQtZGlzYWJsZSovXG4gIGNvbnN0IG1hcCA9ICQoJy5qb2ItbGlzdGluZ19fbWFwJyk7XG4gIGlmICghbWFwLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZU1hcCgpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCAxNjAwKSB7XG4gICAgICBtYXAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgbWFwLmZpbmQoJy5zaWRlLW1vZGFsX190b2dnbGVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXAuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgbWFwLmZpbmQoJy5zaWRlLW1vZGFsX190b2dnbGVyJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gICQod2luZG93KS5vbigncmVzaXplJywgdG9nZ2xlTWFwKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL3BhZ2VzL2pvYi1saXN0aW5nL2pvYi1saXN0aW5nLmpzIiwiLyplc2xpbnQtZGlzYWJsZSovXG5leHBvcnQgZGVmYXVsdCgpID0+IHtcbiAgLy8gdHh0IGlzIHRoZSB0ZXh0IHRvIG1lYXN1cmUsIGZvbnQgaXMgdGhlIGZ1bGwgQ1NTIGZvbnQgZGVjbGFyYXRpb24sXG4gIC8vIGUuZy4gXCJib2xkIDEycHggVmVyZGFuYVwiXG4gIGZ1bmN0aW9uIG1lYXN1cmVUZXh0KHR4dCwgZm9udCkge1xuICAgIHZhciBpZCA9ICd0ZXh0LXdpZHRoLXRlc3RlcicsXG4gICAgICAkdGFnID0gJCgnIycgKyBpZCk7XG4gICAgaWYgKCEkdGFnLmxlbmd0aCkge1xuICAgICAgJHRhZyA9ICQoJzxzcGFuIGlkPVwiJyArIGlkICsgJ1wiIHN0eWxlPVwiZGlzcGxheTpub25lO2ZvbnQ6JyArIGZvbnQgKyAnO1wiPicgKyB0eHQgKyAnPC9zcGFuPicpO1xuICAgICAgJCgnYm9keScpLmFwcGVuZCgkdGFnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHRhZy5jc3Moe1xuICAgICAgICBmb250OiBmb250XG4gICAgICB9KS5odG1sKHR4dCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogJHRhZy53aWR0aCgpLFxuICAgICAgaGVpZ2h0OiAkdGFnLmhlaWdodCgpXG4gICAgfVxuICB9XG5cbiAgd2luZG93LnNocmlua1RvRmlsbCA9ICBmdW5jdGlvbiAoaW5wdXQsIGZvbnRTaXplLCBmb250V2VpZ2h0LCBmb250RmFtaWx5KSB7XG4gICAgaWYgKCFpbnB1dC5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyICRpbnB1dCA9ICQoaW5wdXQpLFxuICAgICAgdHh0ID0gJGlucHV0LnZhbCgpfHwkaW5wdXQudGV4dCgpLFxuICAgICAgbWF4V2lkdGggPSAkaW5wdXQucGFyZW50KCkud2lkdGgoKSwgLy8gYWRkIHNvbWUgcGFkZGluZ1xuICAgICAgZm9udCA9IGZvbnRXZWlnaHQgKyBcIiBcIiArIGZvbnRTaXplICsgXCJweCBcIiArIGZvbnRGYW1pbHk7XG4gICAgLy8gc2VlIGhvdyBiaWcgdGhlIHRleHQgaXMgYXQgdGhlIGRlZmF1bHQgc2l6ZVxuICAgIHZhciB0ZXh0V2lkdGggPSBtZWFzdXJlVGV4dCh0eHQsIGZvbnQpLndpZHRoO1xuICAgIGlmICh0ZXh0V2lkdGggPiBtYXhXaWR0aCkge1xuICAgICAgLy8gaWYgaXQncyB0b28gYmlnLCBjYWxjdWxhdGUgYSBuZXcgZm9udCBzaXplXG4gICAgICAvLyB0aGUgZXh0cmEgLjkgaGVyZSBtYWtlcyB1cCBmb3Igc29tZSBvdmVyLW1lYXN1cmVzXG4gICAgICBmb250U2l6ZSA9IGZvbnRTaXplICogbWF4V2lkdGggLyB0ZXh0V2lkdGg7XG4gICAgICBmb250ID0gZm9udFdlaWdodCArIFwiIFwiICsgZm9udFNpemUgKyBcInB4IFwiICsgZm9udEZhbWlseTtcbiAgICAgIC8vIGFuZCBzZXQgdGhlIHN0eWxlIG9uIHRoZSBpbnB1dFxuICAgICAgJGlucHV0LmNzcyh7XG4gICAgICAgIGZvbnQ6IGZvbnRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbiBjYXNlIHRoZSBmb250IHNpemUgaGFzIGJlZW4gc2V0IHNtYWxsIGFuZFxuICAgICAgLy8gdGhlIHRleHQgd2FzIHRoZW4gZGVsZXRlZFxuICAgICAgJGlucHV0LmNzcyh7XG4gICAgICAgIGZvbnQ6IGZvbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHNocmlua1RvRmlsbCgkKCcucmVzcG9uc2l2ZS1mb250JyksIDUzLCAxMDAsIFwiTXVzZW8gU2Fucywgc2Fucy1zZXJpZlwiKTtcblxuICAkKGRvY3VtZW50KS5vbignaW5wdXQnLCAnLnJlc3BvbnNpdmUtZm9udCcsIGZ1bmN0aW9uICgpIHtcbiAgICBzaHJpbmtUb0ZpbGwoJCh0aGlzKSwgNTMsIDEwMCwgXCJNdXNlbyBTYW5zLCBzYW5zLXNlcmlmXCIpO1xuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL3NjcmlwdHMvY29tbW9uL2ZpdFRleHQuanMiLCJpbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJ3Rocm90dGxlLWRlYm91bmNlJztcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAvKmVzbGludC1kaXNhYmxlKi9cblxuICBmdW5jdGlvbiBmdWxsQnV0dG9uKCkge1xuICAgIGNvbnN0IGVsID0gJCgnLnBhZ2VfX3N1bW1hcnktYnRuJyk7XG5cbiAgICBpZiAoIWVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTI3OSkge1xuICAgICAgaWYgKGVsLmF0dHIoJ3N0eWxlJykpIHtcbiAgICAgICAgZWwucmVtb3ZlQXR0cignc3R5bGUnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvZmZzZXQgPSAoJCh3aW5kb3cpLndpZHRoKCkgLSBlbC5wYXJlbnRzKCcuY29udGFpbmVyJykub3V0ZXJXaWR0aCgpKSAvIDI7XG4gICAgZWwuY3NzKCd3aWR0aCcsIGVsLm91dGVyV2lkdGgoKSArIG9mZnNldCk7XG4gIH1cblxuICBmdWxsQnV0dG9uKCk7XG5cbiAgJCh3aW5kb3cpLnJlc2l6ZShkZWJvdW5jZSgyMDAsIGZhbHNlLCBmdWxsQnV0dG9uKSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9zY3JpcHRzL2NvbW1vbi9mdWxsQnRuLmpzIiwiLyplc2xpbnQtZGlzYWJsZSovXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIGNvbnN0IGdyaWQgPSAkKCcuaXNvdG9wZScpO1xuICBjb25zdCBtb2JpbGVGaWx0ZXJDbGFzcyA9ICcuanMtY2FzZS1maWx0ZXItbW9iaWxlJztcbiAgY29uc3QgZmlsdGVyQ2xhc3MgPSAnLmpzLWNhc2UtZmlsdGVyJztcblxuICBpZiAoIWdyaWQubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZ3JpZC5pc290b3BlKHtcbiAgICBpdGVtU2VsZWN0b3I6ICcuaXNvdG9wZS1pdGVtJyxcbiAgICBsYXlvdXRNb2RlOiAnbWFzb25yeScsXG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCBtb2JpbGVGaWx0ZXJDbGFzcywgZnVuY3Rpb24oKSB7XG4gICAgZ3JpZC5pc290b3BlKHtcbiAgICAgIGZpbHRlcjogJChtb2JpbGVGaWx0ZXJDbGFzcykudmFsKClcbiAgICB9KTtcbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZmlsdGVyQ2xhc3MsIGZ1bmN0aW9uKCkge1xuICAgICQoZmlsdGVyQ2xhc3MpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgIGdyaWQuaXNvdG9wZSh7XG4gICAgICBmaWx0ZXI6ICQodGhpcykuYXR0cignZGF0YS1maWx0ZXInKVxuICAgIH0pO1xuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL3NjcmlwdHMvY29tbW9uL2lzb3RvcGUuanMiLCIvKmVzbGludC1kaXNhYmxlKi9cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgd2luZG93LnNyID0gU2Nyb2xsUmV2ZWFsKHtcbiAgICBkaXN0YW5jZTogJzU1cHgnLFxuICAgIHZpZXdGYWN0b3I6IDAuNSxcbiAgfSk7XG5cbiAgaWYoISQoJy5zci1hbmltYXRlJykubGVuZ3RoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBzci5yZXZlYWwoJy5zci1hbmltYXRlJyk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9zY3JpcHRzL2NvbW1vbi9zY3JvbGxyZXZlYWwuanMiLCJpbXBvcnQgcmFuZ2VTbGlkZXIgZnJvbSAnLi4vYmxvY2tzL3Jhbmdlc2xpZGVyL3Jhbmdlc2xpZGVyJztcbmltcG9ydCBzd2l0Y2hJbml0IGZyb20gJy4uL2Jsb2Nrcy9zd2l0Y2gvc3dpdGNoJztcbmltcG9ydCB2aWRlb1BsYXkgZnJvbSAnLi4vY29tcG9uZW50cy9wbGF0ZXMvdmlkZW8tcGxheSc7XG5pbXBvcnQgaXNvdG9wZSBmcm9tICcuL2NvbW1vbi9pc290b3BlJztcbmltcG9ydCBzdGlja3lOYXZiYXIgZnJvbSAnLi4vYmxvY2tzL3NpZGViYXItbWVudS9zaWRlYmFyLW1lbnUnO1xuaW1wb3J0IHNjcm9sbFJldmVhbEluaXQgZnJvbSAnLi9jb21tb24vc2Nyb2xscmV2ZWFsJztcbmltcG9ydCB1cGxvYWQgZnJvbSAnLi4vYmxvY2tzL3VwbG9hZC91cGxvYWQnO1xuaW1wb3J0IGlubmVyQ2FyZCBmcm9tICcuLi9ibG9ja3MvaW5uZXItY2FyZC9pbm5lci1jYXJkJztcbmltcG9ydCBjb21wYW55VmlkZW8gZnJvbSAnLi4vYmxvY2tzL2NvbXBhbnktdmlkZW8vY29tcGFueS12aWRlbyc7XG5pbXBvcnQgbWFwIGZyb20gJy4uL2Jsb2Nrcy9tYXAvbWFwJztcbmltcG9ydCBpbm5lckhlYWRlciBmcm9tICcuLi9jb21wb25lbnRzL2lubmVyLWhlYWRlci9pbm5lci1oZWFkZXInO1xuaW1wb3J0IHNlbGVjdCBmcm9tICcuLi9ibG9ja3Mvc2VsZWN0L3NlbGVjdCc7XG5pbXBvcnQgbmV3c1NsaWRlciBmcm9tICcuLi9jb21wb25lbnRzL25ld3Mtc2xpZGVyL25ld3Mtc2xpZGVyJztcbmltcG9ydCBoZXJvU2xpZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvaGVyby1zbGlkZXIvaGVyby1zbGlkZXInO1xuaW1wb3J0IGZpdFRleHQgZnJvbSAnLi9jb21tb24vZml0VGV4dCc7XG5pbXBvcnQgaGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlcic7XG5pbXBvcnQgdG9Ub3AgZnJvbSAnLi4vYmxvY2tzL3RvLXRvcC90by10b3AnO1xuaW1wb3J0IGpzUHJvZ3Jlc3MgZnJvbSAnLi4vYmxvY2tzL2pzLXByb2dyZXNzL2pzLXByb2dyZXNzJztcbmltcG9ydCBhY3Rpdml0eUNoYXJ0IGZyb20gJy4uL2Jsb2Nrcy9hY3Rpdml0eS1jaGFydC9hY3Rpdml0eS1jaGFydCc7XG5pbXBvcnQgbWVzc2FnZXMgZnJvbSAnLi4vY29tcG9uZW50cy9tZXNzYWdlcy9tZXNzYWdlcyc7XG5pbXBvcnQgZnVsbEJ0biBmcm9tICcuL2NvbW1vbi9mdWxsQnRuJztcbmltcG9ydCBjaGVja2JveCBmcm9tICcuLi9ibG9ja3MvY2hlY2tib3gvY2hlY2tib3gnO1xuaW1wb3J0IHJhZGlvIGZyb20gJy4uL2Jsb2Nrcy9yYWRpby9yYWRpbyc7XG5pbXBvcnQgc2lkZU1vZGFsIGZyb20gJy4uL2Jsb2Nrcy9zaWRlLW1vZGFsL3NpZGUtbW9kYWwnO1xuaW1wb3J0IGpvYkxpc3RpbmcgZnJvbSAnLi4vcGFnZXMvam9iLWxpc3Rpbmcvam9iLWxpc3RpbmcnO1xuaW1wb3J0IHNob3J0bGlzdCBmcm9tICcuLi9wYWdlcy9zaG9ydGxpc3Qvc2hvcnRsaXN0JztcblxuLyogZXNsaW50LWRpc2FibGUqL1xuJCgoKSA9PiB7XG4gIG9iamVjdEZpdEltYWdlcygpO1xuICBzdmc0ZXZlcnlib2R5KCk7XG4gIGhlYWRlcigpO1xuICB0b1RvcCgpO1xuICByYW5nZVNsaWRlcigpO1xuICB3aW5kb3cuaW5pdFJhbmdlU2xpZGVyID0gcmFuZ2VTbGlkZXI7XG4gIHN3aXRjaEluaXQoKTtcbiAgdmlkZW9QbGF5KCk7XG4gIGlzb3RvcGUoKTtcbiAgd2luZG93LmluaXRJc290b3BlID0gaXNvdG9wZTtcbiAgc3RpY2t5TmF2YmFyKCk7XG4gIHNjcm9sbFJldmVhbEluaXQoKTtcbiAgdXBsb2FkKCk7XG4gIGlubmVyQ2FyZCgpO1xuICBjb21wYW55VmlkZW8oKTtcbiAgbWFwKCk7XG4gIGlubmVySGVhZGVyKCk7XG4gIHNlbGVjdCgpO1xuICB3aW5kb3cuaW5pdFNlbGVjdCA9IHNlbGVjdDtcbiAgbmV3c1NsaWRlcigpO1xuICBoZXJvU2xpZGVyKCk7XG4gIGZpdFRleHQoKTtcbiAganNQcm9ncmVzcygpO1xuICBhY3Rpdml0eUNoYXJ0KCk7XG4gIG1lc3NhZ2VzKCk7XG4gIGZ1bGxCdG4oKTtcbiAgY2hlY2tib3goKTtcbiAgd2luZG93LmNoZWNrYm94SW5pdCA9IGNoZWNrYm94O1xuICByYWRpbygpO1xuICB3aW5kb3cucmFkaW9Jbml0ID0gcmFkaW87XG4gIHNpZGVNb2RhbCgpO1xuICBqb2JMaXN0aW5nKCk7XG4gIHNob3J0bGlzdCgpO1xufSk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvc2NyaXB0cy9hcHAuanMiLCJpbXBvcnQgbG9hZEdvb2dsZU1hcHNBUEkgZnJvbSAnbG9hZC1nb29nbGUtbWFwcy1hcGknO1xuXG5leHBvcnQgZGVmYXVsdCBsb2FkR29vZ2xlTWFwc0FQSSh7IGtleTogJ0FJemFTeUFoVG1ndE10RURvckRzUXd5cmtyTFBqQWllOGc3SVYzNCcgfSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL3NjcmlwdHMvY29tbW9uL21hcC5qcyIsInZhciBDQUxMQkFDS19OQU1FID0gJ19fZ29vZ2xlTWFwc0FwaU9uTG9hZENhbGxiYWNrJ1xuXG52YXIgT1BUSU9OU19LRVlTID0gWydjbGllbnQnLCAna2V5JywgJ2xhbmd1YWdlJywgJ3JlZ2lvbicsICd2J11cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIC8vIEV4aXQgaWYgbm90IHJ1bm5pbmcgaW5zaWRlIGEgYnJvd3Nlci5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiByZWplY3QoXG4gICAgICAgIG5ldyBFcnJvcignQ2FuIG9ubHkgbG9hZCB0aGUgR29vZ2xlIE1hcHMgQVBJIGluIHRoZSBicm93c2VyJylcbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBSZWplY3QgdGhlIHByb21pc2UgYWZ0ZXIgYSB0aW1lb3V0LlxuICAgIHZhciB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgd2luZG93W0NBTExCQUNLX05BTUVdID0gZnVuY3Rpb24oKSB7fSAvLyBTZXQgdGhlIG9uIGxvYWQgY2FsbGJhY2sgdG8gYSBuby1vcC5cbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0NvdWxkIG5vdCBsb2FkIHRoZSBHb29nbGUgTWFwcyBBUEknKSlcbiAgICB9LCBvcHRpb25zLnRpbWVvdXQgfHwgMTAwMDApXG5cbiAgICAvLyBIb29rIHVwIHRoZSBvbiBsb2FkIGNhbGxiYWNrLlxuICAgIHdpbmRvd1tDQUxMQkFDS19OQU1FXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRpbWVvdXRJZCAhPT0gbnVsbCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKVxuICAgICAgfVxuICAgICAgcmVzb2x2ZSh3aW5kb3cuZ29vZ2xlLm1hcHMpXG4gICAgICBkZWxldGUgd2luZG93W0NBTExCQUNLX05BTUVdXG4gICAgfVxuXG4gICAgLy8gUHJlcGFyZSB0aGUgYHNjcmlwdGAgdGFnIHRvIGJlIGluc2VydGVkIGludG8gdGhlIHBhZ2UuXG4gICAgdmFyIHNjcmlwdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKVxuICAgIHZhciBwYXJhbXMgPSBbJ2NhbGxiYWNrPScgKyBDQUxMQkFDS19OQU1FXVxuICAgIE9QVElPTlNfS0VZUy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgaWYgKG9wdGlvbnNba2V5XSkge1xuICAgICAgICBwYXJhbXMucHVzaChrZXkgKyAnPScgKyBvcHRpb25zW2tleV0pXG4gICAgICB9XG4gICAgfSlcbiAgICBpZiAob3B0aW9ucy5saWJyYXJpZXMgJiYgb3B0aW9ucy5saWJyYXJpZXMubGVuZ3RoKSB7XG4gICAgICBwYXJhbXMucHVzaCgnbGlicmFyaWVzPScgKyBvcHRpb25zLmxpYnJhcmllcy5qb2luKCcsJykpXG4gICAgfVxuICAgIHNjcmlwdEVsZW1lbnQuc3JjID1cbiAgICAgICdodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/JyArIHBhcmFtcy5qb2luKCcmJylcblxuICAgIC8vIEluc2VydCB0aGUgYHNjcmlwdGAgdGFnLlxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0RWxlbWVudClcbiAgfSlcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9sb2FkLWdvb2dsZS1tYXBzLWFwaS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWZpbmVkICovXG5cbnZhciB0aHJvdHRsZSA9IHJlcXVpcmUoJy4vdGhyb3R0bGUnKTtcblxuLyoqXG4gKiBEZWJvdW5jZSBleGVjdXRpb24gb2YgYSBmdW5jdGlvbi4gRGVib3VuY2luZywgdW5saWtlIHRocm90dGxpbmcsXG4gKiBndWFyYW50ZWVzIHRoYXQgYSBmdW5jdGlvbiBpcyBvbmx5IGV4ZWN1dGVkIGEgc2luZ2xlIHRpbWUsIGVpdGhlciBhdCB0aGVcbiAqIHZlcnkgYmVnaW5uaW5nIG9mIGEgc2VyaWVzIG9mIGNhbGxzLCBvciBhdCB0aGUgdmVyeSBlbmQuXG4gKlxuICogQHBhcmFtICB7TnVtYmVyfSAgIGRlbGF5ICAgICAgICAgQSB6ZXJvLW9yLWdyZWF0ZXIgZGVsYXkgaW4gbWlsbGlzZWNvbmRzLiBGb3IgZXZlbnQgY2FsbGJhY2tzLCB2YWx1ZXMgYXJvdW5kIDEwMCBvciAyNTAgKG9yIGV2ZW4gaGlnaGVyKSBhcmUgbW9zdCB1c2VmdWwuXG4gKiBAcGFyYW0gIHtCb29sZWFufSAgYXRCZWdpbiAgICAgICBPcHRpb25hbCwgZGVmYXVsdHMgdG8gZmFsc2UuIElmIGF0QmVnaW4gaXMgZmFsc2Ugb3IgdW5zcGVjaWZpZWQsIGNhbGxiYWNrIHdpbGwgb25seSBiZSBleGVjdXRlZCBgZGVsYXlgIG1pbGxpc2Vjb25kc1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgdGhlIGxhc3QgZGVib3VuY2VkLWZ1bmN0aW9uIGNhbGwuIElmIGF0QmVnaW4gaXMgdHJ1ZSwgY2FsbGJhY2sgd2lsbCBiZSBleGVjdXRlZCBvbmx5IGF0IHRoZSBmaXJzdCBkZWJvdW5jZWQtZnVuY3Rpb24gY2FsbC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChBZnRlciB0aGUgdGhyb3R0bGVkLWZ1bmN0aW9uIGhhcyBub3QgYmVlbiBjYWxsZWQgZm9yIGBkZWxheWAgbWlsbGlzZWNvbmRzLCB0aGUgaW50ZXJuYWwgY291bnRlciBpcyByZXNldCkuXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2sgICAgICBBIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIGFmdGVyIGRlbGF5IG1pbGxpc2Vjb25kcy4gVGhlIGB0aGlzYCBjb250ZXh0IGFuZCBhbGwgYXJndW1lbnRzIGFyZSBwYXNzZWQgdGhyb3VnaCwgYXMtaXMsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byBgY2FsbGJhY2tgIHdoZW4gdGhlIGRlYm91bmNlZC1mdW5jdGlvbiBpcyBleGVjdXRlZC5cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBuZXcsIGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoIGRlbGF5LCBhdEJlZ2luLCBjYWxsYmFjayApIHtcblx0cmV0dXJuIGNhbGxiYWNrID09PSB1bmRlZmluZWQgPyB0aHJvdHRsZShkZWxheSwgYXRCZWdpbiwgZmFsc2UpIDogdGhyb3R0bGUoZGVsYXksIGNhbGxiYWNrLCBhdEJlZ2luICE9PSBmYWxzZSk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Rocm90dGxlLWRlYm91bmNlL2RlYm91bmNlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgZGVmYXVsdCAoKSA9PiB7IC8qZXNsaW50LWRpc2FibGUqL1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLXBpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnLnBhZ2VfX292ZXJsYXknKS5mYWRlSW4oKTtcbiAgICAkKCcuaW5uZXItY2FyZCcpLmFkZENsYXNzKCdpbm5lci1jYXJkX3BpY2snKTtcbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy1waWNrLWRpc21pc3MnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnLnBhZ2VfX292ZXJsYXknKS5mYWRlT3V0KCk7XG4gICAgJCgnLnNpZGUtbW9kYWwsIC5zaWRlLW1vZGFsX190b2dnbGVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQoJy5pbm5lci1jYXJkJykucmVtb3ZlQ2xhc3MoJ2lubmVyLWNhcmRfcGljaycpO1xuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL3BhZ2VzL3Nob3J0bGlzdC9zaG9ydGxpc3QuanMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QTs7OztBQ2hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBSkE7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBWkE7QUFDQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFMQTtBQXJCQTtBQWxCQTtBQWpCQTtBQXFFQTs7Ozs7OztBQ3BIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDWkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7Ozs7Ozs7QUNoSEE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ3JFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBOzs7Ozs7O0FDNUJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNaQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDcEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNQQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7Ozs7Ozs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQURBO0FBVEE7QUFMQTtBQW1CQTs7Ozs7OztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFKQTtBQUxBO0FBY0E7Ozs7Ozs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNsQkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ3REQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDMUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTs7Ozs7OztBQzdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1pBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQzlEQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ3BCQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0EiLCJzb3VyY2VSb290IjoiIn0=