/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/assets/scripts/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 27);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

/* eslint-disable no-undefined,no-param-reassign,no-shadow */

/**
 * Throttle execution of a function. Especially useful for rate limiting
 * execution of handlers on events like resize and scroll.
 *
 * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.
 * @param  {Boolean}   noTrailing     Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the
 *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time
 *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,
 *                                    the internal counter is reset)
 * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,
 *                                    to `callback` when the throttled-function is executed.
 * @param  {Boolean}   debounceMode   If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),
 *                                    schedule `callback` to execute after `delay` ms.
 *
 * @return {Function}  A new, throttled, function.
 */
module.exports = function ( delay, noTrailing, callback, debounceMode ) {

	// After wrapper has stopped being called, this timeout ensures that
	// `callback` is executed at the proper times in `throttle` and `end`
	// debounce modes.
	var timeoutID;

	// Keep track of the last time `callback` was executed.
	var lastExec = 0;

	// `noTrailing` defaults to falsy.
	if ( typeof noTrailing !== 'boolean' ) {
		debounceMode = callback;
		callback = noTrailing;
		noTrailing = undefined;
	}

	// The `wrapper` function encapsulates all of the throttling / debouncing
	// functionality and when executed will limit the rate at which `callback`
	// is executed.
	function wrapper () {

		var self = this;
		var elapsed = Number(new Date()) - lastExec;
		var args = arguments;

		// Execute `callback` and update the `lastExec` timestamp.
		function exec () {
			lastExec = Number(new Date());
			callback.apply(self, args);
		}

		// If `debounceMode` is true (at begin) this is used to clear the flag
		// to allow future `callback` executions.
		function clear () {
			timeoutID = undefined;
		}

		if ( debounceMode && !timeoutID ) {
			// Since `wrapper` is being called for the first time and
			// `debounceMode` is true (at begin), execute `callback`.
			exec();
		}

		// Clear any existing timeout.
		if ( timeoutID ) {
			clearTimeout(timeoutID);
		}

		if ( debounceMode === undefined && elapsed > delay ) {
			// In throttle mode, if `delay` time has been exceeded, execute
			// `callback`.
			exec();

		} else if ( noTrailing !== true ) {
			// In trailing throttle mode, since `delay` time has not been
			// exceeded, schedule `callback` to execute `delay` ms after most
			// recent execution.
			//
			// If `debounceMode` is true (at begin), schedule `clear` to execute
			// after `delay` ms.
			//
			// If `debounceMode` is false (at end), schedule `callback` to
			// execute after `delay` ms.
			timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);
		}

	}

	// Return the wrapper function.
	return wrapper;

};


/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  var ctxEl = document.getElementById("activityChart");

  if (!ctxEl) {
    return;
  }

  var ctx = ctxEl.getContext('2d');

  var i = 1;
  var labelsData = [];
  for (i = 1; i <= 30; i++) {
    labelsData.push(i);
  }

  var dataSet = [48, 56, 66, 54, 36, 30, 56, 60, 60, 51, 51, 56];

  var customTooltips = function customTooltips(tooltip) {
    $(this._chart.canvas).css("cursor", "pointer");

    var positionY = this._chart.canvas.offsetTop;
    var positionX = this._chart.canvas.offsetLeft;

    $(".chartjs-tooltip").css({
      opacity: 0
    });

    if (!tooltip || !tooltip.opacity) {
      return;
    }

    if (tooltip.dataPoints.length > 0) {
      tooltip.dataPoints.forEach(function (dataPoint) {
        var content = dataPoint.yLabel;
        var $tooltip = $("#tooltip-" + dataPoint.datasetIndex);

        $tooltip.html(content);
        $tooltip.css({
          opacity: 1,
          top: positionY + dataPoint.y + "px",
          left: positionX + dataPoint.x + "px"
        });
      });
    }
  };

  var activityChart = new Chart(ctx, {
    type: 'bar',
    data: {

      labels: labelsData,

      datasets: [{
        data: dataSet,
        backgroundColor: 'rgba(255, 255, 255, .28)',
        borderColor: 'rgba(255, 255, 255, .5)',
        hoverBackgroundColor: '#fff',
        hoverBorderColor: '#fff',
        borderWidth: 1,
        borderSkipped: 'bottom'
      }]
    },

    options: {
      responsive: true,

      title: {
        display: false
      },

      legend: {
        display: false
      },

      tooltips: {
        enabled: false,
        mode: 'index',
        intersect: false,
        custom: customTooltips
      },

      scales: {

        xAxes: [{
          barThickness: '6',

          barPercentage: '0',

          categoryPercentage: '0',

          gridLines: {
            display: false,
            color: 'rgba(255,255,255,.28)'
          },

          ticks: {
            fontColor: '#fff',
            fontSize: '9',
            fontFamily: 'Open Sans, sans-serif'
          }
        }],

        yAxes: [{
          gridLines: {
            display: false,
            color: '#fff'
          },
          ticks: {
            display: false,
            beginAtZero: true
          }
        }]
      }
    }
  });
});

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /* eslint-disable */
  $('.checkbox').each(function () {
    var box = $('<span></span>').addClass('checkbox-box');
    $(this).find('label').append(box);
  });

  $('.checkbox-inline').each(function () {
    var box = $('<span></span>').addClass('checkbox-box');
    $(this).append(box);
  });
});

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/

/* harmony default export */ __webpack_exports__["a"] = (function () {
  $('.company-video__controls').click(function () {
    $(this).fadeOut();
    $(this).siblings('.company-video__item')[0].src += '&autoplay=1';
  });
});

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/

/* harmony default export */ __webpack_exports__["a"] = (function () {
  $(document).on('click', '.js-card-more', function () {
    $(this).parents('.inner-card').addClass('inner-card_expanded');
    $(this).hide();
    $(this).siblings('.js-card-less').show();
  });

  $(document).on('click', '.js-card-less', function () {
    $(this).parents('.inner-card').removeClass('inner-card_expanded');
    $(this).hide();
    $(this).siblings('.js-card-more').show();
  });

  $(document).on('click', '.js-card-buy', function (e) {
    e.preventDefault();
    e.stopPropagation();
    $(this).parents('.inner-card').toggleClass('active');
    $(this).toggleClass('active');
    $(this).siblings('.js-card-buy-target').toggle();
  });
});

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $('.js-progress').each(function () {
    var item = $(this);
    if (!item.length) {
      return;
    }
    var value = item.find('.js-progress__control').val();
    var bar = +item.find('.js-progress__value').attr('stroke-dasharray') * (1 - 0.01 * +value);
    item.find('.js-progress__output').text(value + '%');
    item.find('.js-progress__value').attr('stroke-dashoffset', bar);
  });
});

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__scripts_common_map__ = __webpack_require__(28);

/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {
  __WEBPACK_IMPORTED_MODULE_0__scripts_common_map__["a" /* default */].then(function (googleMaps) {
    function initSmallMap() {
      var mapElement = document.getElementById('map');
      if (!mapElement) {
        return;
      }

      var centerMark = {
        lat: 25.793240,
        lng: -80.351103
      };

      var options = {
        zoom: 17,
        center: centerMark,
        scrollwheel: false
      };

      var mapFrame = new google.maps.Map(mapElement, options);

      var marker = new google.maps.Marker({
        position: centerMark,
        map: mapFrame
      });

      if (document.getElementById('map-2')) {
        var mapSecond = new google.maps.Map(document.getElementById('map-2'), options);
        var markerSecond = new google.maps.Marker({
          position: centerMark,
          map: mapSecond
        });
        var mapThird = new google.maps.Map(document.getElementById('map-3'), options);
        var markerThird = new google.maps.Marker({
          position: centerMark,
          map: mapThird
        });
        var mapFourth = new google.maps.Map(document.getElementById('map-4'), options);
        var markerFourth = new google.maps.Marker({
          position: centerMark,
          map: mapFourth
        });
      }
    }

    initSmallMap();

    function initBranchMap() {
      var mapBranchElement = document.getElementById('map-branch');
      if (!mapBranchElement) {
        return;
      }
      var branchCenter = {
        lat: 48.7297424,
        lng: 5.8553172
      };
      var mapBranch = new google.maps.Map(mapBranchElement, {
        zoom: 7,
        center: branchCenter,
        scrollwheel: false
      });
      var image = {
        url: 'assets/images/icon/figure.png'
      };
      // eslint-disable-next-line
      var luxemburg = new google.maps.Marker({
        position: {
          lat: 49.6075838,
          lng: 6.0658304
        },
        icon: image,
        map: mapBranch
      });
      // eslint-disable-next-line
      var troyes = new google.maps.Marker({
        position: {
          lat: 48.2955989,
          lng: 4.0845315
        },
        icon: image,
        map: mapBranch
      });
      // eslint-disable-next-line
      var karlsruhe = new google.maps.Marker({
        position: {
          lat: 49.0054691,
          lng: 8.4050689
        },
        icon: image,
        map: mapBranch
      });
    }

    initBranchMap();

    $('a[href="#branch"]').click(function () {
      setTimeout(function () {
        initBranchMap();
      }, 200);
    });

    function initJobMap() {
      var mapJobElement = document.getElementById('map-job');
      if (!mapJobElement) {
        return;
      }
      var jobCenter = {
        lat: 47.8111474,
        lng: 13.0503576
      };
      var mapJob = new google.maps.Map(mapJobElement, {
        zoom: 8,
        center: jobCenter,
        scrollwheel: false
      });
      var image = {
        url: 'assets/images/icon/figure.png'
      };
      // eslint-disable-next-line
      var marker = new google.maps.Marker({
        position: jobCenter,
        map: mapJob,
        icon: image
      });
    }

    initJobMap();
  }).catch(function (f) {
    return f;
  });
});

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $('.radio').each(function () {
    var box = $('<span></span>').addClass('radio-box');
    $(this).find('label').append(box);
  });

  $('.radio-inline').each(function () {
    var box = $('<span></span>').addClass('radio-box');
    $(this).append(box);
  });
});

/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// import { debounce } from 'throttle-debounce';

/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  var $selector = $('input[type="range"]');

  if (!$selector.length) {
    return;
  }

  $selector.rangeslider({
    polyfill: false,
    rangeClass: 'rangeslider',
    disabledClass: 'rangeslider_disabled',
    horizontalClass: 'rangeslider_horizontal',
    verticalClass: 'rangeslider_vertical',
    fillClass: 'rangeslider__fill',
    handleClass: 'rangeslider__handle'
  });

  function valueOutput(el) {
    var value = el.val();
    var output = el.parents('.rangeslider-wrap').find('.rangeslider-wrap__output');
    if (output.length) {
      output.html(value + '%');
    }

    var outputSalary = el.parents('.rangeslider-wrap').find('.rangeslider-wrap__output-salary');
    if (outputSalary.length) {
      outputSalary.html(value + ' $/h');
    }

    var outputCustom = el.parents('.rangeslider-wrap').find('.rangeslider-wrap__output-custom');
    if (outputCustom.length) {
      outputCustom.html(value);
      var handlerPosition = outputCustom.siblings('.rangeslider').find('.rangeslider__handle').css('left');
      outputCustom.css('left', handlerPosition);
    }
  }

  $selector.each(function () {
    valueOutput($(this));
  });

  $selector.on('input', function () {
    valueOutput($(this));
  });
});

/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {

  var select = $('.js-select');
  var select2 = $('.js-select2');

  if (!select.length && !select2.length) {
    return;
  }

  Selectize.define('readOnly', function (options) {
    var self = this;

    this.setup_original = this.setup;

    this.setup = function () {
      self.setup_original();
      this.$control_input.prop("disabled", "true");
      this.$control_input.prop("readonly", "true");
    };
  });

  select.selectize({
    plugins: ['readOnly'],
    readOnly: true
  });

  select2.selectize();
});

/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $(document).on('click', '[data-side]', function (e) {
    e.preventDefault();
    var target = $(this).attr('data-side');
    $(target).addClass('active');
    $(target).find('.side-modal__toggler').addClass('active');
  });

  $(document).on('click', '.side-modal__toggler', function () {
    $(this).toggleClass('active');
    $(this).parents('.side-modal').toggleClass('active');
  });
});

/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_throttle_debounce__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_throttle_debounce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_throttle_debounce__);

/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {
  var el = $('.js-sidebar');

  var stickyInit = function stickyInit() {

    if ($(window).width() < 1280 || !el.length) {
      el.trigger('sticky_kit:detach');
      return;
    }

    // el.trigger('sticky_kit:detach');
    el.stick_in_parent({
      offset_top: 100,
      parent: '.row'
    });
  };

  stickyInit();
  $(window).resize(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_throttle_debounce__["debounce"])(200, false, stickyInit));

  var scrollSpyInit = function scrollSpyInit() {
    // Cache selectors
    var topMenu = $(".sidebar-menu");
    if (!topMenu.length) {
      return;
    }

    var lastId,
        topMenuHeight = topMenu.outerHeight(),

    // All list items
    menuItems = topMenu.find("a"),

    // Anchors corresponding to menu items
    scrollItems = menuItems.map(function () {
      var item = $($(this).attr("href"));
      if (item.length) {
        return item;
      }
    });

    // Bind click handler to menu items
    // so we can get a fancy scroll animation
    menuItems.click(function (e) {
      var href = $(this).attr("href"),
          offsetTop = href === "#" ? 0 : $(window).width() > 1280 ? $(href).offset().top - 100 : $(href).offset().top - 57;
      $('html, body').stop().animate({
        scrollTop: offsetTop
      }, 500);
      e.preventDefault();
    });

    // Bind to scroll
    $(window).scroll(function () {
      // Get container scroll position
      var fromTop = $(this).scrollTop() + topMenuHeight;

      // Get id of current scroll item
      var cur = scrollItems.map(function () {
        if ($(this).offset().top < fromTop) return this;
      });
      // Get the id of the current element
      cur = cur[cur.length - 1];
      var id = cur && cur.length ? cur[0].id : "";

      if (lastId !== id) {
        lastId = id;
        // Set/remove active class
        menuItems.parent().removeClass("active").end().filter("[href='#" + id + "']").parent().addClass("active");
      }
    });
  };

  scrollSpyInit();
  $(window).resize(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_throttle_debounce__["debounce"])(300, false, scrollSpyInit));

  $(document).on('click', '.sidebar-menu__item', function () {
    if ($(window).width() < 1280) {
      $('.sidebar-wrap, .header__burger').removeClass('active');
    }
  });
});

/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable */
/* harmony default export */ __webpack_exports__["a"] = (function () {
  $('.switch__item').click(function () {
    $(this).siblings('.switch__item').removeClass('active');
    $(this).addClass('active');
    $(this).siblings('input').val($(this).find('.switch__text').text());
  });
});

/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  var btnClass = '.to-top',
      w = $(window);

  w.on('scroll', function () {
    if (w.scrollTop() - w.innerHeight() > 0) {
      $(btnClass).addClass('active');
    } else {
      $(btnClass).removeClass('active');
    }
  });

  $(document).on('click', btnClass, function (e) {
    e.preventDefault();

    $('html, body').animate({
      scrollTop: 0
    }, 600, 'swing');
  });
});

/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/

  $(document).on('click', '.upload', function (e) {
    // eslint-disable-line func-names
    if ($(e.target).hasClass('upload__input')) {
      return;
    }

    e.preventDefault();
    e.stopPropagation();

    $(this).find('.upload__input').trigger('click');
  });
});

/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $(document).on('click', '.header__burger', function (e) {
    e.preventDefault();
    $(this).toggleClass('active');
    $('.sidebar-wrap').toggleClass('active');
  });
});

/***/ }),
/* 16 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  // eslint-disable-next-line
  var heroSlider = new Swiper('.hero-slider', {
    nextButton: '.slider__control_next',
    prevButton: '.slider__control_prev',
    slidesPerView: 4,
    spaceBetween: 35,
    breakpoints: {
      1280: {
        slidesPerView: 3,
        spaceBetween: 40
      },
      1024: {
        slidesPerView: 2,
        spaceBetween: 60
      },
      640: {
        slidesPerView: 1
      }
    }
  });
});

/***/ }),
/* 17 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {

  $(document).on('click', '.inner-header__col_dropdown', function (e) {
    e.preventDefault();
    e.stopPropagation();
    $(this).siblings($(this)).removeClass('active');
    $(this).parents('.inner-header').find('.inner-header__search').removeClass('active');
    $(this).toggleClass('active');
  });

  $(document).on('click', '.inner-header__search-btn', function (e) {
    e.preventDefault();
    e.stopPropagation();
    $(this).siblings('.inner-header__notify-wrap').find('.inner-header__col_dropdown').removeClass('active');
    $(this).siblings('.inner-header__search').toggleClass('active');
  });

  $(document).on('click', '.inner-header__burger', function (e) {
    e.preventDefault();
    $(this).toggleClass('active');
    $('.inner-sidebar').toggleClass('active');
  });

  $(document).on('click', function () {
    $('.inner-header__col_dropdown').removeClass('active');
  });
});

/***/ }),
/* 18 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $(document).on('input', '.messages__input-area', function () {
    if (!$(this).text().length) {
      $(this).siblings('.messages__placeholder').fadeIn();
    } else {
      $(this).siblings('.messages__placeholder').fadeOut();
    }
  });
});

/***/ }),
/* 19 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  // eslint-disable-next-line
  var newsSlider = new Swiper('.news-slider', {
    nextButton: '.slider__control_next',
    prevButton: '.slider__control_prev',
    slidesPerView: 3,
    spaceBetween: 30,
    breakpoints: {
      1280: {
        slidesPerView: 2
      },
      1024: {
        slidesPerView: 1
      }
    }
  });
});

/***/ }),
/* 20 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/

/* harmony default export */ __webpack_exports__["a"] = (function () {
  $(document).on('click', '.js-video-play', function (e) {
    e.preventDefault();

    var mediaElement = $(this).siblings('.plate__video-placeholder').find('.plate__video');

    $(this).fadeOut();

    if (mediaElement.prop('tagName') === 'IFRAME') {
      mediaElement[0].src += '&autoplay=1';
    } else if (mediaElement.prop('tagName') === 'VIDEO') {
      mediaElement[0].play();
    } else {
      console.log("Can't find video in placeholder");
    }
  });
});

/***/ }),
/* 21 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  var map = $('.job-listing__map');
  if (!map.length) {
    return;
  }

  function toggleMap() {
    if ($(window).width() < 1600) {
      map.removeClass('active');
      map.find('.side-modal__toggler').removeClass('active');
    } else {
      map.addClass('active');
      map.find('.side-modal__toggler').addClass('active');
    }
  }

  $(window).on('resize', toggleMap);
});

/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $(document).on('click', '.js-pick', function () {
    $('.page__overlay').fadeIn();
    $('.inner-card').addClass('inner-card_pick');
  });

  $(document).on('click', '.js-pick-dismiss', function () {
    $('.page__overlay').fadeOut();
    $('.side-modal, .side-modal__toggler').removeClass('active');
    $('.inner-card').removeClass('inner-card_pick');
  });
});

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function () {
  /*eslint-disable*/
  $(document).on('click', '.js-vacancy', function (e) {
    e.preventDefault();
    $('.page__overlay').fadeIn();
  });

  $(document).on('click', '.js-vacancy-close', function (e) {
    e.preventDefault();
    $('.page__overlay').fadeOut();
  });
});

/***/ }),
/* 24 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {
  // txt is the text to measure, font is the full CSS font declaration,
  // e.g. "bold 12px Verdana"
  function measureText(txt, font) {
    var id = 'text-width-tester',
        $tag = $('#' + id);
    if (!$tag.length) {
      $tag = $('<span id="' + id + '" style="display:none;font:' + font + ';">' + txt + '</span>');
      $('body').append($tag);
    } else {
      $tag.css({
        font: font
      }).html(txt);
    }
    return {
      width: $tag.width(),
      height: $tag.height()
    };
  }

  window.shrinkToFill = function (input, fontSize, fontWeight, fontFamily) {
    if (!input.length) {
      return;
    }
    var $input = $(input),
        txt = $input.val() || $input.text(),
        maxWidth = $input.parent().width(),
        // add some padding
    font = fontWeight + " " + fontSize + "px " + fontFamily;
    // see how big the text is at the default size
    var textWidth = measureText(txt, font).width;
    if (textWidth > maxWidth) {
      // if it's too big, calculate a new font size
      // the extra .9 here makes up for some over-measures
      fontSize = fontSize * maxWidth / textWidth;
      font = fontWeight + " " + fontSize + "px " + fontFamily;
      // and set the style on the input
      $input.css({
        font: font
      });
    } else {
      // in case the font size has been set small and
      // the text was then deleted
      $input.css({
        font: font
      });
    }
  };

  shrinkToFill($('.responsive-font'), 53, 100, "Museo Sans, sans-serif");

  $(document).on('input', '.responsive-font', function () {
    shrinkToFill($(this), 53, 100, "Museo Sans, sans-serif");
  });
});

/***/ }),
/* 25 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {
  var grid = $('.isotope');
  var mobileFilterClass = '.js-case-filter-mobile';
  var filterClass = '.js-case-filter';

  if (!grid.length) {
    return;
  }

  grid.isotope({
    itemSelector: '.isotope-item',
    layoutMode: 'masonry'
  });

  $(document).on('change', mobileFilterClass, function () {
    grid.isotope({
      filter: $(mobileFilterClass).val()
    });
  });

  $(document).on('click', filterClass, function () {
    $(filterClass).removeClass('active');
    $(this).addClass('active');

    grid.isotope({
      filter: $(this).attr('data-filter')
    });
  });
});

/***/ }),
/* 26 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*eslint-disable*/
/* harmony default export */ __webpack_exports__["a"] = (function () {
  window.sr = ScrollReveal({
    distance: '55px',
    viewFactor: 0.5
  });

  if (!$('.sr-animate').length) {
    return;
  }

  sr.reveal('.sr-animate');
});

/***/ }),
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__blocks_rangeslider_rangeslider__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__blocks_switch_switch__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_plates_video_play__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_isotope__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__blocks_sidebar_menu_sidebar_menu__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__common_scrollreveal__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__blocks_upload_upload__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__blocks_inner_card_inner_card__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__blocks_company_video_company_video__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__blocks_map_map__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__components_inner_header_inner_header__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__blocks_select_select__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__components_news_slider_news_slider__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__components_hero_slider_hero_slider__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__common_fitText__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__components_header_header__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__blocks_to_top_to_top__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__blocks_js_progress_js_progress__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__blocks_activity_chart_activity_chart__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__components_messages_messages__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__blocks_checkbox_checkbox__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__blocks_radio_radio__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__blocks_side_modal_side_modal__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__pages_job_listing_job_listing__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__pages_shortlist_shortlist__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__pages_suggested_jobs_suggested_jobs__ = __webpack_require__(23);



























/* eslint-disable*/
$(function () {
  objectFitImages();
  svg4everybody();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_15__components_header_header__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_16__blocks_to_top_to_top__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__blocks_rangeslider_rangeslider__["a" /* default */])();
  window.initRangeSlider = __WEBPACK_IMPORTED_MODULE_0__blocks_rangeslider_rangeslider__["a" /* default */];
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__blocks_switch_switch__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__components_plates_video_play__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__common_isotope__["a" /* default */])();
  window.initIsotope = __WEBPACK_IMPORTED_MODULE_3__common_isotope__["a" /* default */];
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__blocks_sidebar_menu_sidebar_menu__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__common_scrollreveal__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__blocks_upload_upload__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__blocks_inner_card_inner_card__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__blocks_company_video_company_video__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__blocks_map_map__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__components_inner_header_inner_header__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__blocks_select_select__["a" /* default */])();
  window.initSelect = __WEBPACK_IMPORTED_MODULE_11__blocks_select_select__["a" /* default */];
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__components_news_slider_news_slider__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_13__components_hero_slider_hero_slider__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_14__common_fitText__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_17__blocks_js_progress_js_progress__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_18__blocks_activity_chart_activity_chart__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_19__components_messages_messages__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_20__blocks_checkbox_checkbox__["a" /* default */])();
  window.checkboxInit = __WEBPACK_IMPORTED_MODULE_20__blocks_checkbox_checkbox__["a" /* default */];
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_21__blocks_radio_radio__["a" /* default */])();
  window.radioInit = __WEBPACK_IMPORTED_MODULE_21__blocks_radio_radio__["a" /* default */];
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_22__blocks_side_modal_side_modal__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_23__pages_job_listing_job_listing__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_24__pages_shortlist_shortlist__["a" /* default */])();
  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_25__pages_suggested_jobs_suggested_jobs__["a" /* default */])();
});

/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_load_google_maps_api__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_load_google_maps_api___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_load_google_maps_api__);


/* harmony default export */ __webpack_exports__["a"] = (__WEBPACK_IMPORTED_MODULE_0_load_google_maps_api___default()({ key: 'AIzaSyAhTmgtMtEDorDsQwyrkrLPjAie8g7IV34' }));

/***/ }),
/* 29 */
/***/ (function(module, exports) {

var CALLBACK_NAME = '__googleMapsApiOnLoadCallback'

var OPTIONS_KEYS = ['client', 'key', 'language', 'region', 'v']

module.exports = function(options) {
  options = options || {}

  return new Promise(function(resolve, reject) {
    // Exit if not running inside a browser.
    if (typeof window === 'undefined') {
      return reject(
        new Error('Can only load the Google Maps API in the browser')
      )
    }

    // Reject the promise after a timeout.
    var timeoutId = setTimeout(function() {
      window[CALLBACK_NAME] = function() {} // Set the on load callback to a no-op.
      reject(new Error('Could not load the Google Maps API'))
    }, options.timeout || 10000)

    // Hook up the on load callback.
    window[CALLBACK_NAME] = function() {
      if (timeoutId !== null) {
        clearTimeout(timeoutId)
      }
      resolve(window.google.maps)
      delete window[CALLBACK_NAME]
    }

    // Prepare the `script` tag to be inserted into the page.
    var scriptElement = document.createElement('script')
    var params = ['callback=' + CALLBACK_NAME]
    OPTIONS_KEYS.forEach(function(key) {
      if (options[key]) {
        params.push(key + '=' + options[key])
      }
    })
    if (options.libraries && options.libraries.length) {
      params.push('libraries=' + options.libraries.join(','))
    }
    scriptElement.src =
      'https://maps.googleapis.com/maps/api/js?' + params.join('&')

    // Insert the `script` tag.
    document.body.appendChild(scriptElement)
  })
}


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

/* eslint-disable no-undefined */

var throttle = __webpack_require__(0);

/**
 * Debounce execution of a function. Debouncing, unlike throttling,
 * guarantees that a function is only executed a single time, either at the
 * very beginning of a series of calls, or at the very end.
 *
 * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.
 * @param  {Boolean}  atBegin       Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds
 *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.
 *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).
 * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,
 *                                  to `callback` when the debounced-function is executed.
 *
 * @return {Function} A new, debounced function.
 */
module.exports = function ( delay, atBegin, callback ) {
	return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);
};


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

var throttle = __webpack_require__(0);
var debounce = __webpack_require__(30);

module.exports = {
	throttle: throttle,
	debounce: debounce
};


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA5NWNhNjc0NDcyZTEyYzEyMDVjZSIsIndlYnBhY2s6Ly8vLi9+L3Rocm90dGxlLWRlYm91bmNlL3Rocm90dGxlLmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL2FjdGl2aXR5LWNoYXJ0L2FjdGl2aXR5LWNoYXJ0LmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL2NoZWNrYm94L2NoZWNrYm94LmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL2NvbXBhbnktdmlkZW8vY29tcGFueS12aWRlby5qcyIsIndlYnBhY2s6Ly8vYXBwL2Jsb2Nrcy9pbm5lci1jYXJkL2lubmVyLWNhcmQuanMiLCJ3ZWJwYWNrOi8vL2FwcC9ibG9ja3MvanMtcHJvZ3Jlc3MvanMtcHJvZ3Jlc3MuanMiLCJ3ZWJwYWNrOi8vL2FwcC9ibG9ja3MvbWFwL21hcC5qcyIsIndlYnBhY2s6Ly8vYXBwL2Jsb2Nrcy9yYWRpby9yYWRpby5qcyIsIndlYnBhY2s6Ly8vYXBwL2Jsb2Nrcy9yYW5nZXNsaWRlci9yYW5nZXNsaWRlci5qcyIsIndlYnBhY2s6Ly8vYXBwL2Jsb2Nrcy9zZWxlY3Qvc2VsZWN0LmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL3NpZGUtbW9kYWwvc2lkZS1tb2RhbC5qcyIsIndlYnBhY2s6Ly8vYXBwL2Jsb2Nrcy9zaWRlYmFyLW1lbnUvc2lkZWJhci1tZW51LmpzIiwid2VicGFjazovLy9hcHAvYmxvY2tzL3N3aXRjaC9zd2l0Y2guanMiLCJ3ZWJwYWNrOi8vL2FwcC9ibG9ja3MvdG8tdG9wL3RvLXRvcC5qcyIsIndlYnBhY2s6Ly8vYXBwL2Jsb2Nrcy91cGxvYWQvdXBsb2FkLmpzIiwid2VicGFjazovLy9hcHAvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmpzIiwid2VicGFjazovLy9hcHAvY29tcG9uZW50cy9oZXJvLXNsaWRlci9oZXJvLXNsaWRlci5qcyIsIndlYnBhY2s6Ly8vYXBwL2NvbXBvbmVudHMvaW5uZXItaGVhZGVyL2lubmVyLWhlYWRlci5qcyIsIndlYnBhY2s6Ly8vYXBwL2NvbXBvbmVudHMvbWVzc2FnZXMvbWVzc2FnZXMuanMiLCJ3ZWJwYWNrOi8vL2FwcC9jb21wb25lbnRzL25ld3Mtc2xpZGVyL25ld3Mtc2xpZGVyLmpzIiwid2VicGFjazovLy9hcHAvY29tcG9uZW50cy9wbGF0ZXMvdmlkZW8tcGxheS5qcyIsIndlYnBhY2s6Ly8vYXBwL3BhZ2VzL2pvYi1saXN0aW5nL2pvYi1saXN0aW5nLmpzIiwid2VicGFjazovLy9hcHAvcGFnZXMvc2hvcnRsaXN0L3Nob3J0bGlzdC5qcyIsIndlYnBhY2s6Ly8vYXBwL3BhZ2VzL3N1Z2dlc3RlZC1qb2JzL3N1Z2dlc3RlZC1qb2JzLmpzIiwid2VicGFjazovLy9hcHAvc2NyaXB0cy9jb21tb24vZml0VGV4dC5qcyIsIndlYnBhY2s6Ly8vYXBwL3NjcmlwdHMvY29tbW9uL2lzb3RvcGUuanMiLCJ3ZWJwYWNrOi8vL2FwcC9zY3JpcHRzL2NvbW1vbi9zY3JvbGxyZXZlYWwuanMiLCJ3ZWJwYWNrOi8vL2FwcC9zY3JpcHRzL2FwcC5qcyIsIndlYnBhY2s6Ly8vYXBwL3NjcmlwdHMvY29tbW9uL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvYWQtZ29vZ2xlLW1hcHMtYXBpL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vdGhyb3R0bGUtZGVib3VuY2UvZGVib3VuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi90aHJvdHRsZS1kZWJvdW5jZS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9hc3NldHMvc2NyaXB0cy9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyNyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgOTVjYTY3NDQ3MmUxMmMxMjA1Y2UiLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZmluZWQsbm8tcGFyYW0tcmVhc3NpZ24sbm8tc2hhZG93ICovXG5cbi8qKlxuICogVGhyb3R0bGUgZXhlY3V0aW9uIG9mIGEgZnVuY3Rpb24uIEVzcGVjaWFsbHkgdXNlZnVsIGZvciByYXRlIGxpbWl0aW5nXG4gKiBleGVjdXRpb24gb2YgaGFuZGxlcnMgb24gZXZlbnRzIGxpa2UgcmVzaXplIGFuZCBzY3JvbGwuXG4gKlxuICogQHBhcmFtICB7TnVtYmVyfSAgICBkZWxheSAgICAgICAgICBBIHplcm8tb3ItZ3JlYXRlciBkZWxheSBpbiBtaWxsaXNlY29uZHMuIEZvciBldmVudCBjYWxsYmFja3MsIHZhbHVlcyBhcm91bmQgMTAwIG9yIDI1MCAob3IgZXZlbiBoaWdoZXIpIGFyZSBtb3N0IHVzZWZ1bC5cbiAqIEBwYXJhbSAge0Jvb2xlYW59ICAgbm9UcmFpbGluZyAgICAgT3B0aW9uYWwsIGRlZmF1bHRzIHRvIGZhbHNlLiBJZiBub1RyYWlsaW5nIGlzIHRydWUsIGNhbGxiYWNrIHdpbGwgb25seSBleGVjdXRlIGV2ZXJ5IGBkZWxheWAgbWlsbGlzZWNvbmRzIHdoaWxlIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdHRsZWQtZnVuY3Rpb24gaXMgYmVpbmcgY2FsbGVkLiBJZiBub1RyYWlsaW5nIGlzIGZhbHNlIG9yIHVuc3BlY2lmaWVkLCBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIG9uZSBmaW5hbCB0aW1lXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyIHRoZSBsYXN0IHRocm90dGxlZC1mdW5jdGlvbiBjYWxsLiAoQWZ0ZXIgdGhlIHRocm90dGxlZC1mdW5jdGlvbiBoYXMgbm90IGJlZW4gY2FsbGVkIGZvciBgZGVsYXlgIG1pbGxpc2Vjb25kcyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGludGVybmFsIGNvdW50ZXIgaXMgcmVzZXQpXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gIGNhbGxiYWNrICAgICAgIEEgZnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWQgYWZ0ZXIgZGVsYXkgbWlsbGlzZWNvbmRzLiBUaGUgYHRoaXNgIGNvbnRleHQgYW5kIGFsbCBhcmd1bWVudHMgYXJlIHBhc3NlZCB0aHJvdWdoLCBhcy1pcyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG8gYGNhbGxiYWNrYCB3aGVuIHRoZSB0aHJvdHRsZWQtZnVuY3Rpb24gaXMgZXhlY3V0ZWQuXG4gKiBAcGFyYW0gIHtCb29sZWFufSAgIGRlYm91bmNlTW9kZSAgIElmIGBkZWJvdW5jZU1vZGVgIGlzIHRydWUgKGF0IGJlZ2luKSwgc2NoZWR1bGUgYGNsZWFyYCB0byBleGVjdXRlIGFmdGVyIGBkZWxheWAgbXMuIElmIGBkZWJvdW5jZU1vZGVgIGlzIGZhbHNlIChhdCBlbmQpLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZSBgY2FsbGJhY2tgIHRvIGV4ZWN1dGUgYWZ0ZXIgYGRlbGF5YCBtcy5cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gIEEgbmV3LCB0aHJvdHRsZWQsIGZ1bmN0aW9uLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICggZGVsYXksIG5vVHJhaWxpbmcsIGNhbGxiYWNrLCBkZWJvdW5jZU1vZGUgKSB7XG5cblx0Ly8gQWZ0ZXIgd3JhcHBlciBoYXMgc3RvcHBlZCBiZWluZyBjYWxsZWQsIHRoaXMgdGltZW91dCBlbnN1cmVzIHRoYXRcblx0Ly8gYGNhbGxiYWNrYCBpcyBleGVjdXRlZCBhdCB0aGUgcHJvcGVyIHRpbWVzIGluIGB0aHJvdHRsZWAgYW5kIGBlbmRgXG5cdC8vIGRlYm91bmNlIG1vZGVzLlxuXHR2YXIgdGltZW91dElEO1xuXG5cdC8vIEtlZXAgdHJhY2sgb2YgdGhlIGxhc3QgdGltZSBgY2FsbGJhY2tgIHdhcyBleGVjdXRlZC5cblx0dmFyIGxhc3RFeGVjID0gMDtcblxuXHQvLyBgbm9UcmFpbGluZ2AgZGVmYXVsdHMgdG8gZmFsc3kuXG5cdGlmICggdHlwZW9mIG5vVHJhaWxpbmcgIT09ICdib29sZWFuJyApIHtcblx0XHRkZWJvdW5jZU1vZGUgPSBjYWxsYmFjaztcblx0XHRjYWxsYmFjayA9IG5vVHJhaWxpbmc7XG5cdFx0bm9UcmFpbGluZyA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdC8vIFRoZSBgd3JhcHBlcmAgZnVuY3Rpb24gZW5jYXBzdWxhdGVzIGFsbCBvZiB0aGUgdGhyb3R0bGluZyAvIGRlYm91bmNpbmdcblx0Ly8gZnVuY3Rpb25hbGl0eSBhbmQgd2hlbiBleGVjdXRlZCB3aWxsIGxpbWl0IHRoZSByYXRlIGF0IHdoaWNoIGBjYWxsYmFja2Bcblx0Ly8gaXMgZXhlY3V0ZWQuXG5cdGZ1bmN0aW9uIHdyYXBwZXIgKCkge1xuXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHZhciBlbGFwc2VkID0gTnVtYmVyKG5ldyBEYXRlKCkpIC0gbGFzdEV4ZWM7XG5cdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cblx0XHQvLyBFeGVjdXRlIGBjYWxsYmFja2AgYW5kIHVwZGF0ZSB0aGUgYGxhc3RFeGVjYCB0aW1lc3RhbXAuXG5cdFx0ZnVuY3Rpb24gZXhlYyAoKSB7XG5cdFx0XHRsYXN0RXhlYyA9IE51bWJlcihuZXcgRGF0ZSgpKTtcblx0XHRcdGNhbGxiYWNrLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXHRcdH1cblxuXHRcdC8vIElmIGBkZWJvdW5jZU1vZGVgIGlzIHRydWUgKGF0IGJlZ2luKSB0aGlzIGlzIHVzZWQgdG8gY2xlYXIgdGhlIGZsYWdcblx0XHQvLyB0byBhbGxvdyBmdXR1cmUgYGNhbGxiYWNrYCBleGVjdXRpb25zLlxuXHRcdGZ1bmN0aW9uIGNsZWFyICgpIHtcblx0XHRcdHRpbWVvdXRJRCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRpZiAoIGRlYm91bmNlTW9kZSAmJiAhdGltZW91dElEICkge1xuXHRcdFx0Ly8gU2luY2UgYHdyYXBwZXJgIGlzIGJlaW5nIGNhbGxlZCBmb3IgdGhlIGZpcnN0IHRpbWUgYW5kXG5cdFx0XHQvLyBgZGVib3VuY2VNb2RlYCBpcyB0cnVlIChhdCBiZWdpbiksIGV4ZWN1dGUgYGNhbGxiYWNrYC5cblx0XHRcdGV4ZWMoKTtcblx0XHR9XG5cblx0XHQvLyBDbGVhciBhbnkgZXhpc3RpbmcgdGltZW91dC5cblx0XHRpZiAoIHRpbWVvdXRJRCApIHtcblx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0SUQpO1xuXHRcdH1cblxuXHRcdGlmICggZGVib3VuY2VNb2RlID09PSB1bmRlZmluZWQgJiYgZWxhcHNlZCA+IGRlbGF5ICkge1xuXHRcdFx0Ly8gSW4gdGhyb3R0bGUgbW9kZSwgaWYgYGRlbGF5YCB0aW1lIGhhcyBiZWVuIGV4Y2VlZGVkLCBleGVjdXRlXG5cdFx0XHQvLyBgY2FsbGJhY2tgLlxuXHRcdFx0ZXhlYygpO1xuXG5cdFx0fSBlbHNlIGlmICggbm9UcmFpbGluZyAhPT0gdHJ1ZSApIHtcblx0XHRcdC8vIEluIHRyYWlsaW5nIHRocm90dGxlIG1vZGUsIHNpbmNlIGBkZWxheWAgdGltZSBoYXMgbm90IGJlZW5cblx0XHRcdC8vIGV4Y2VlZGVkLCBzY2hlZHVsZSBgY2FsbGJhY2tgIHRvIGV4ZWN1dGUgYGRlbGF5YCBtcyBhZnRlciBtb3N0XG5cdFx0XHQvLyByZWNlbnQgZXhlY3V0aW9uLlxuXHRcdFx0Ly9cblx0XHRcdC8vIElmIGBkZWJvdW5jZU1vZGVgIGlzIHRydWUgKGF0IGJlZ2luKSwgc2NoZWR1bGUgYGNsZWFyYCB0byBleGVjdXRlXG5cdFx0XHQvLyBhZnRlciBgZGVsYXlgIG1zLlxuXHRcdFx0Ly9cblx0XHRcdC8vIElmIGBkZWJvdW5jZU1vZGVgIGlzIGZhbHNlIChhdCBlbmQpLCBzY2hlZHVsZSBgY2FsbGJhY2tgIHRvXG5cdFx0XHQvLyBleGVjdXRlIGFmdGVyIGBkZWxheWAgbXMuXG5cdFx0XHR0aW1lb3V0SUQgPSBzZXRUaW1lb3V0KGRlYm91bmNlTW9kZSA/IGNsZWFyIDogZXhlYywgZGVib3VuY2VNb2RlID09PSB1bmRlZmluZWQgPyBkZWxheSAtIGVsYXBzZWQgOiBkZWxheSk7XG5cdFx0fVxuXG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIHdyYXBwZXIgZnVuY3Rpb24uXG5cdHJldHVybiB3cmFwcGVyO1xuXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Rocm90dGxlLWRlYm91bmNlL3Rocm90dGxlLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHtcclxuICAvKmVzbGludC1kaXNhYmxlKi9cclxuICB2YXIgY3R4RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2aXR5Q2hhcnRcIik7XHJcblxyXG4gIGlmKCFjdHhFbCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgdmFyIGN0eCA9IGN0eEVsLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gIGxldCBpID0gMTtcclxuICBjb25zdCBsYWJlbHNEYXRhID0gW107XHJcbiAgZm9yIChpID0gMTsgaSA8PSAzMDsgaSsrKSB7XHJcbiAgICBsYWJlbHNEYXRhLnB1c2goaSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBkYXRhU2V0ID0gWzQ4LCA1NiwgNjYsIDU0LCAzNiwgMzAsIDU2LCA2MCwgNjAsIDUxLCA1MSwgNTZdO1xyXG5cclxuICB2YXIgY3VzdG9tVG9vbHRpcHMgPSBmdW5jdGlvbih0b29sdGlwKSB7XHJcbiAgICAkKHRoaXMuX2NoYXJ0LmNhbnZhcykuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKTtcclxuXHJcbiAgICB2YXIgcG9zaXRpb25ZID0gdGhpcy5fY2hhcnQuY2FudmFzLm9mZnNldFRvcDtcclxuICAgIHZhciBwb3NpdGlvblggPSB0aGlzLl9jaGFydC5jYW52YXMub2Zmc2V0TGVmdDtcclxuXHJcbiAgICAkKFwiLmNoYXJ0anMtdG9vbHRpcFwiKS5jc3Moe1xyXG4gICAgICBvcGFjaXR5OiAwLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCF0b29sdGlwIHx8ICF0b29sdGlwLm9wYWNpdHkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0b29sdGlwLmRhdGFQb2ludHMubGVuZ3RoID4gMCkge1xyXG4gICAgICB0b29sdGlwLmRhdGFQb2ludHMuZm9yRWFjaChmdW5jdGlvbihkYXRhUG9pbnQpIHtcclxuICAgICAgICB2YXIgY29udGVudCA9IGRhdGFQb2ludC55TGFiZWw7XHJcbiAgICAgICAgdmFyICR0b29sdGlwID0gJChcIiN0b29sdGlwLVwiICsgZGF0YVBvaW50LmRhdGFzZXRJbmRleCk7XHJcblxyXG4gICAgICAgICR0b29sdGlwLmh0bWwoY29udGVudCk7XHJcbiAgICAgICAgJHRvb2x0aXAuY3NzKHtcclxuICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICB0b3A6IHBvc2l0aW9uWSArIGRhdGFQb2ludC55ICsgXCJweFwiLFxyXG4gICAgICAgICAgbGVmdDogcG9zaXRpb25YICsgZGF0YVBvaW50LnggKyBcInB4XCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBhY3Rpdml0eUNoYXJ0ID0gbmV3IENoYXJ0KGN0eCwge1xyXG4gICAgdHlwZTogJ2JhcicsXHJcbiAgICBkYXRhOiB7XHJcblxyXG4gICAgICBsYWJlbHM6IGxhYmVsc0RhdGEsXHJcblxyXG4gICAgICBkYXRhc2V0czogW3tcclxuICAgICAgICBkYXRhOiBkYXRhU2V0LFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgLjI4KScsXHJcbiAgICAgICAgYm9yZGVyQ29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIC41KScsXHJcbiAgICAgICAgaG92ZXJCYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyxcclxuICAgICAgICBob3ZlckJvcmRlckNvbG9yOiAnI2ZmZicsXHJcbiAgICAgICAgYm9yZGVyV2lkdGg6IDEsXHJcbiAgICAgICAgYm9yZGVyU2tpcHBlZDogJ2JvdHRvbScsXHJcbiAgICAgIH1dLFxyXG4gICAgfSxcclxuXHJcbiAgICBvcHRpb25zOiB7XHJcbiAgICAgIHJlc3BvbnNpdmU6IHRydWUsXHJcblxyXG4gICAgICB0aXRsZToge1xyXG4gICAgICAgIGRpc3BsYXk6IGZhbHNlLFxyXG4gICAgICB9LFxyXG5cclxuICAgICAgbGVnZW5kOiB7XHJcbiAgICAgICAgZGlzcGxheTogZmFsc2UsXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB0b29sdGlwczoge1xyXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIG1vZGU6ICdpbmRleCcsXHJcbiAgICAgICAgaW50ZXJzZWN0OiBmYWxzZSxcclxuICAgICAgICBjdXN0b206IGN1c3RvbVRvb2x0aXBzLFxyXG4gICAgICB9LFxyXG5cclxuICAgICAgc2NhbGVzOiB7XHJcblxyXG4gICAgICAgIHhBeGVzOiBbe1xyXG4gICAgICAgICAgYmFyVGhpY2tuZXNzOiAnNicsXHJcblxyXG4gICAgICAgICAgYmFyUGVyY2VudGFnZTogJzAnLFxyXG5cclxuICAgICAgICAgIGNhdGVnb3J5UGVyY2VudGFnZTogJzAnLFxyXG5cclxuICAgICAgICAgIGdyaWRMaW5lczoge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LC4yOCknLFxyXG4gICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICB0aWNrczoge1xyXG4gICAgICAgICAgICBmb250Q29sb3I6ICcjZmZmJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc5JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ09wZW4gU2Fucywgc2Fucy1zZXJpZicsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH1dLFxyXG5cclxuICAgICAgICB5QXhlczogW3tcclxuICAgICAgICAgIGdyaWRMaW5lczoge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB0aWNrczoge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmYWxzZSxcclxuICAgICAgICAgICAgYmVnaW5BdFplcm86IHRydWUsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH1dLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9KTtcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9ibG9ja3MvYWN0aXZpdHktY2hhcnQvYWN0aXZpdHktY2hhcnQuanMiLCJleHBvcnQgZGVmYXVsdCAoKSA9PiB7XHJcbiAgLyogZXNsaW50LWRpc2FibGUgKi9cclxuICAkKCcuY2hlY2tib3gnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGJveCA9ICQoJzxzcGFuPjwvc3Bhbj4nKS5hZGRDbGFzcygnY2hlY2tib3gtYm94Jyk7XHJcbiAgICAkKHRoaXMpLmZpbmQoJ2xhYmVsJykuYXBwZW5kKGJveCk7XHJcbiAgfSk7XHJcblxuICAkKCcuY2hlY2tib3gtaW5saW5lJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgYm94ID0gJCgnPHNwYW4+PC9zcGFuPicpLmFkZENsYXNzKCdjaGVja2JveC1ib3gnKTtcbiAgICAkKHRoaXMpLmFwcGVuZChib3gpO1xuICB9KTtcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL2NoZWNrYm94L2NoZWNrYm94LmpzIiwiLyplc2xpbnQtZGlzYWJsZSovXG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgJCgnLmNvbXBhbnktdmlkZW9fX2NvbnRyb2xzJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuZmFkZU91dCgpO1xuICAgICQodGhpcykuc2libGluZ3MoJy5jb21wYW55LXZpZGVvX19pdGVtJylbMF0uc3JjICs9ICcmYXV0b3BsYXk9MSc7XG4gIH0pO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvYmxvY2tzL2NvbXBhbnktdmlkZW8vY29tcGFueS12aWRlby5qcyIsIi8qZXNsaW50LWRpc2FibGUqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xyXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtY2FyZC1tb3JlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuaW5uZXItY2FyZCcpLmFkZENsYXNzKCdpbm5lci1jYXJkX2V4cGFuZGVkJyk7XHJcbiAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICQodGhpcykuc2libGluZ3MoJy5qcy1jYXJkLWxlc3MnKS5zaG93KCk7XHJcbiAgfSk7XHJcblxyXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtY2FyZC1sZXNzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuaW5uZXItY2FyZCcpLnJlbW92ZUNsYXNzKCdpbm5lci1jYXJkX2V4cGFuZGVkJyk7XHJcbiAgICAkKHRoaXMpLmhpZGUoKTtcclxuICAgICQodGhpcykuc2libGluZ3MoJy5qcy1jYXJkLW1vcmUnKS5zaG93KCk7XHJcbiAgfSk7XHJcblxyXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtY2FyZC1idXknLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICQodGhpcykucGFyZW50cygnLmlubmVyLWNhcmQnKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICQodGhpcykuc2libGluZ3MoJy5qcy1jYXJkLWJ1eS10YXJnZXQnKS50b2dnbGUoKTtcclxuICB9KTtcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9ibG9ja3MvaW5uZXItY2FyZC9pbm5lci1jYXJkLmpzIiwiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAvKmVzbGludC1kaXNhYmxlKi9cbiAgJCgnLmpzLXByb2dyZXNzJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICBjb25zdCBpdGVtID0gJCh0aGlzKTtcbiAgICBpZiAoIWl0ZW0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gaXRlbS5maW5kKCcuanMtcHJvZ3Jlc3NfX2NvbnRyb2wnKS52YWwoKTtcbiAgICBjb25zdCBiYXIgPSAraXRlbS5maW5kKCcuanMtcHJvZ3Jlc3NfX3ZhbHVlJykuYXR0cignc3Ryb2tlLWRhc2hhcnJheScpICogKDEgLSAoMC4wMSAqICt2YWx1ZSkpO1xuICAgIGl0ZW0uZmluZCgnLmpzLXByb2dyZXNzX19vdXRwdXQnKS50ZXh0KHZhbHVlICsgJyUnKVxuICAgIGl0ZW0uZmluZCgnLmpzLXByb2dyZXNzX192YWx1ZScpLmF0dHIoJ3N0cm9rZS1kYXNob2Zmc2V0JywgYmFyKTtcbiAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9ibG9ja3MvanMtcHJvZ3Jlc3MvanMtcHJvZ3Jlc3MuanMiLCJpbXBvcnQgbWFwIGZyb20gJy4uLy4uL3NjcmlwdHMvY29tbW9uL21hcCc7XHJcbi8qZXNsaW50LWRpc2FibGUqL1xyXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XHJcbiAgbWFwLnRoZW4oKGdvb2dsZU1hcHMpID0+IHtcclxuICAgIGZ1bmN0aW9uIGluaXRTbWFsbE1hcCgpIHtcclxuICAgICAgY29uc3QgbWFwRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKTtcclxuICAgICAgaWYgKCFtYXBFbGVtZW50KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjZW50ZXJNYXJrID0ge1xyXG4gICAgICAgIGxhdDogMjUuNzkzMjQwLFxyXG4gICAgICAgIGxuZzogLTgwLjM1MTEwMyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgem9vbTogMTcsXHJcbiAgICAgICAgY2VudGVyOiBjZW50ZXJNYXJrLFxyXG4gICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IG1hcEZyYW1lID0gbmV3IGdvb2dsZS5tYXBzLk1hcChtYXBFbGVtZW50LCBvcHRpb25zKTtcclxuXHJcbiAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICBwb3NpdGlvbjogY2VudGVyTWFyayxcclxuICAgICAgICBtYXA6IG1hcEZyYW1lLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLTInKSkge1xyXG4gICAgICAgIGNvbnN0IG1hcFNlY29uZCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcC0yJyksIG9wdGlvbnMpO1xyXG4gICAgICAgIHZhciBtYXJrZXJTZWNvbmQgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICAgIHBvc2l0aW9uOiBjZW50ZXJNYXJrLFxyXG4gICAgICAgICAgbWFwOiBtYXBTZWNvbmQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgbWFwVGhpcmQgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAtMycpLCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgbWFya2VyVGhpcmQgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICAgIHBvc2l0aW9uOiBjZW50ZXJNYXJrLFxyXG4gICAgICAgICAgbWFwOiBtYXBUaGlyZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBtYXBGb3VydGggPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAtNCcpLCBvcHRpb25zKTtcclxuICAgICAgICB2YXIgbWFya2VyRm91cnRoID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbiAgICAgICAgICBwb3NpdGlvbjogY2VudGVyTWFyayxcclxuICAgICAgICAgIG1hcDogbWFwRm91cnRoLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFNtYWxsTWFwKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdEJyYW5jaE1hcCgpIHtcclxuICAgICAgY29uc3QgbWFwQnJhbmNoRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAtYnJhbmNoJyk7XHJcbiAgICAgIGlmICghbWFwQnJhbmNoRWxlbWVudCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBicmFuY2hDZW50ZXIgPSB7XHJcbiAgICAgICAgbGF0OiA0OC43Mjk3NDI0LFxyXG4gICAgICAgIGxuZzogNS44NTUzMTcyLFxyXG4gICAgICB9O1xyXG4gICAgICBjb25zdCBtYXBCcmFuY2ggPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKG1hcEJyYW5jaEVsZW1lbnQsIHtcclxuICAgICAgICB6b29tOiA3LFxyXG4gICAgICAgIGNlbnRlcjogYnJhbmNoQ2VudGVyLFxyXG4gICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGNvbnN0IGltYWdlID0ge1xyXG4gICAgICAgIHVybDogJ2Fzc2V0cy9pbWFnZXMvaWNvbi9maWd1cmUucG5nJyxcclxuICAgICAgfTtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgIGNvbnN0IGx1eGVtYnVyZyA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgICBsYXQ6IDQ5LjYwNzU4MzgsXHJcbiAgICAgICAgICBsbmc6IDYuMDY1ODMwNCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGljb246IGltYWdlLFxyXG4gICAgICAgIG1hcDogbWFwQnJhbmNoLFxyXG4gICAgICB9KTtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgIGNvbnN0IHRyb3llcyA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgICBsYXQ6IDQ4LjI5NTU5ODksXHJcbiAgICAgICAgICBsbmc6IDQuMDg0NTMxNSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGljb246IGltYWdlLFxyXG4gICAgICAgIG1hcDogbWFwQnJhbmNoLFxyXG4gICAgICB9KTtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgIGNvbnN0IGthcmxzcnVoZSA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgICBsYXQ6IDQ5LjAwNTQ2OTEsXHJcbiAgICAgICAgICBsbmc6IDguNDA1MDY4OSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGljb246IGltYWdlLFxyXG4gICAgICAgIG1hcDogbWFwQnJhbmNoLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0QnJhbmNoTWFwKCk7XHJcblxyXG4gICAgJCgnYVtocmVmPVwiI2JyYW5jaFwiXScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGluaXRCcmFuY2hNYXAoKTtcclxuICAgICAgfSwgMjAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRKb2JNYXAoKSB7XHJcbiAgICAgIGNvbnN0IG1hcEpvYkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLWpvYicpO1xyXG4gICAgICBpZiAoIW1hcEpvYkVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgam9iQ2VudGVyID0ge1xyXG4gICAgICAgIGxhdDogNDcuODExMTQ3NCxcclxuICAgICAgICBsbmc6IDEzLjA1MDM1NzYsXHJcbiAgICAgIH07XHJcbiAgICAgIGNvbnN0IG1hcEpvYiA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwSm9iRWxlbWVudCwge1xyXG4gICAgICAgIHpvb206IDgsXHJcbiAgICAgICAgY2VudGVyOiBqb2JDZW50ZXIsXHJcbiAgICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlLFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgaW1hZ2UgPSB7XHJcbiAgICAgICAgdXJsOiAnYXNzZXRzL2ltYWdlcy9pY29uL2ZpZ3VyZS5wbmcnLFxyXG4gICAgICB9O1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xyXG4gICAgICAgIHBvc2l0aW9uOiBqb2JDZW50ZXIsXHJcbiAgICAgICAgbWFwOiBtYXBKb2IsXHJcbiAgICAgICAgaWNvbjogaW1hZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRKb2JNYXAoKTtcclxuXHJcbiAgfSkuY2F0Y2goZiA9PiBmKTtcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9ibG9ja3MvbWFwL21hcC5qcyIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHsgLyplc2xpbnQtZGlzYWJsZSovXHJcbiAgJCgnLnJhZGlvJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBib3ggPSAkKCc8c3Bhbj48L3NwYW4+JykuYWRkQ2xhc3MoJ3JhZGlvLWJveCcpO1xyXG4gICAgJCh0aGlzKS5maW5kKCdsYWJlbCcpLmFwcGVuZChib3gpO1xyXG4gIH0pO1xuXG4gICQoJy5yYWRpby1pbmxpbmUnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBib3ggPSAkKCc8c3Bhbj48L3NwYW4+JykuYWRkQ2xhc3MoJ3JhZGlvLWJveCcpO1xuICAgICQodGhpcykuYXBwZW5kKGJveCk7XG4gIH0pO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2Jsb2Nrcy9yYWRpby9yYWRpby5qcyIsIi8vIGltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAndGhyb3R0bGUtZGVib3VuY2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xyXG4gIC8qZXNsaW50LWRpc2FibGUqL1xyXG4gIHZhciAkc2VsZWN0b3IgPSAkKCdpbnB1dFt0eXBlPVwicmFuZ2VcIl0nKTtcclxuXHJcbiAgaWYoISRzZWxlY3Rvci5sZW5ndGgpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gICRzZWxlY3Rvci5yYW5nZXNsaWRlcih7XHJcbiAgICBwb2x5ZmlsbDogZmFsc2UsXHJcbiAgICByYW5nZUNsYXNzOiAncmFuZ2VzbGlkZXInLFxyXG4gICAgZGlzYWJsZWRDbGFzczogJ3Jhbmdlc2xpZGVyX2Rpc2FibGVkJyxcclxuICAgIGhvcml6b250YWxDbGFzczogJ3Jhbmdlc2xpZGVyX2hvcml6b250YWwnLFxyXG4gICAgdmVydGljYWxDbGFzczogJ3Jhbmdlc2xpZGVyX3ZlcnRpY2FsJyxcclxuICAgIGZpbGxDbGFzczogJ3Jhbmdlc2xpZGVyX19maWxsJyxcclxuICAgIGhhbmRsZUNsYXNzOiAncmFuZ2VzbGlkZXJfX2hhbmRsZScsXHJcbiAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIHZhbHVlT3V0cHV0KGVsKSB7XHJcbiAgICB2YXIgdmFsdWUgPSBlbC52YWwoKTtcclxuICAgIHZhciBvdXRwdXQgPSBlbC5wYXJlbnRzKCcucmFuZ2VzbGlkZXItd3JhcCcpLmZpbmQoJy5yYW5nZXNsaWRlci13cmFwX19vdXRwdXQnKTtcclxuICAgIGlmIChvdXRwdXQubGVuZ3RoKSB7XHJcbiAgICAgIG91dHB1dC5odG1sKHZhbHVlICsgJyUnKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgb3V0cHV0U2FsYXJ5ID0gZWwucGFyZW50cygnLnJhbmdlc2xpZGVyLXdyYXAnKS5maW5kKCcucmFuZ2VzbGlkZXItd3JhcF9fb3V0cHV0LXNhbGFyeScpO1xyXG4gICAgaWYgKG91dHB1dFNhbGFyeS5sZW5ndGgpIHtcclxuICAgICAgb3V0cHV0U2FsYXJ5Lmh0bWwodmFsdWUgKyAnICQvaCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBvdXRwdXRDdXN0b20gPSBlbC5wYXJlbnRzKCcucmFuZ2VzbGlkZXItd3JhcCcpLmZpbmQoJy5yYW5nZXNsaWRlci13cmFwX19vdXRwdXQtY3VzdG9tJyk7XHJcbiAgICBpZiAob3V0cHV0Q3VzdG9tLmxlbmd0aCkge1xyXG4gICAgICBvdXRwdXRDdXN0b20uaHRtbCh2YWx1ZSk7XHJcbiAgICAgIHZhciBoYW5kbGVyUG9zaXRpb24gPSBvdXRwdXRDdXN0b20uc2libGluZ3MoJy5yYW5nZXNsaWRlcicpLmZpbmQoJy5yYW5nZXNsaWRlcl9faGFuZGxlJykuY3NzKCdsZWZ0Jyk7XHJcbiAgICAgIG91dHB1dEN1c3RvbS5jc3MoJ2xlZnQnLCBoYW5kbGVyUG9zaXRpb24pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJHNlbGVjdG9yLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICB2YWx1ZU91dHB1dCgkKHRoaXMpKTtcclxuICB9KVxyXG5cclxuICAkc2VsZWN0b3Iub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XHJcbiAgICB2YWx1ZU91dHB1dCgkKHRoaXMpKTtcclxuICB9KTtcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9ibG9ja3MvcmFuZ2VzbGlkZXIvcmFuZ2VzbGlkZXIuanMiLCIvKmVzbGludC1kaXNhYmxlKi9cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcblxuICBjb25zdCBzZWxlY3QgPSAkKCcuanMtc2VsZWN0Jyk7XG4gIGNvbnN0IHNlbGVjdDIgPSAkKCcuanMtc2VsZWN0MicpO1xuXG4gIGlmICghc2VsZWN0Lmxlbmd0aCAmJiAhc2VsZWN0Mi5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBTZWxlY3RpemUuZGVmaW5lKCdyZWFkT25seScsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLnNldHVwX29yaWdpbmFsID0gdGhpcy5zZXR1cDtcblxuICAgIHRoaXMuc2V0dXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuc2V0dXBfb3JpZ2luYWwoKTtcbiAgICAgIHRoaXMuJGNvbnRyb2xfaW5wdXQucHJvcChcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgIHRoaXMuJGNvbnRyb2xfaW5wdXQucHJvcChcInJlYWRvbmx5XCIsIFwidHJ1ZVwiKTtcbiAgICB9XG4gIH0pO1xuXG4gIHNlbGVjdC5zZWxlY3RpemUoe1xuICAgIHBsdWdpbnM6IFsncmVhZE9ubHknXSxcbiAgICByZWFkT25seTogdHJ1ZSxcbiAgfSk7XG5cbiAgc2VsZWN0Mi5zZWxlY3RpemUoKTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2Jsb2Nrcy9zZWxlY3Qvc2VsZWN0LmpzIiwiZXhwb3J0IGRlZmF1bHQgKCkgPT4geyAvKmVzbGludC1kaXNhYmxlKi9cclxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtc2lkZV0nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gJCh0aGlzKS5hdHRyKCdkYXRhLXNpZGUnKTtcclxuICAgICQodGFyZ2V0KS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKHRhcmdldCkuZmluZCgnLnNpZGUtbW9kYWxfX3RvZ2dsZXInKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgfSk7XHJcblxyXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc2lkZS1tb2RhbF9fdG9nZ2xlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJCh0aGlzKS5wYXJlbnRzKCcuc2lkZS1tb2RhbCcpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICB9KTtcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9ibG9ja3Mvc2lkZS1tb2RhbC9zaWRlLW1vZGFsLmpzIiwiaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICd0aHJvdHRsZS1kZWJvdW5jZSc7XG4vKmVzbGludC1kaXNhYmxlKi9cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgY29uc3QgZWwgPSAkKCcuanMtc2lkZWJhcicpO1xuXG4gIGNvbnN0IHN0aWNreUluaXQgPSAoKSA9PiB7XG5cbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCAxMjgwIHx8ICFlbC5sZW5ndGgpIHtcbiAgICAgIGVsLnRyaWdnZXIoJ3N0aWNreV9raXQ6ZGV0YWNoJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gZWwudHJpZ2dlcignc3RpY2t5X2tpdDpkZXRhY2gnKTtcbiAgICBlbC5zdGlja19pbl9wYXJlbnQoe1xuICAgICAgb2Zmc2V0X3RvcDogMTAwLFxuICAgICAgcGFyZW50OiAnLnJvdycsXG4gICAgfSk7XG4gIH07XG5cbiAgc3RpY2t5SW5pdCgpO1xuICAkKHdpbmRvdykucmVzaXplKGRlYm91bmNlKDIwMCwgZmFsc2UsIHN0aWNreUluaXQpKTtcblxuICBjb25zdCBzY3JvbGxTcHlJbml0ID0gKCkgPT4ge1xuICAgIC8vIENhY2hlIHNlbGVjdG9yc1xuICAgIHZhciB0b3BNZW51ID0gJChcIi5zaWRlYmFyLW1lbnVcIik7XG4gICAgaWYgKCF0b3BNZW51Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsYXN0SWQsXG4gICAgICB0b3BNZW51SGVpZ2h0ID0gdG9wTWVudS5vdXRlckhlaWdodCgpLFxuICAgICAgLy8gQWxsIGxpc3QgaXRlbXNcbiAgICAgIG1lbnVJdGVtcyA9IHRvcE1lbnUuZmluZChcImFcIiksXG4gICAgICAvLyBBbmNob3JzIGNvcnJlc3BvbmRpbmcgdG8gbWVudSBpdGVtc1xuICAgICAgc2Nyb2xsSXRlbXMgPSBtZW51SXRlbXMubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaXRlbSA9ICQoJCh0aGlzKS5hdHRyKFwiaHJlZlwiKSk7XG4gICAgICAgIGlmIChpdGVtLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIEJpbmQgY2xpY2sgaGFuZGxlciB0byBtZW51IGl0ZW1zXG4gICAgLy8gc28gd2UgY2FuIGdldCBhIGZhbmN5IHNjcm9sbCBhbmltYXRpb25cbiAgICBtZW51SXRlbXMuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoXCJocmVmXCIpLFxuICAgICAgICBvZmZzZXRUb3AgPSBocmVmID09PSBcIiNcIiA/IDAgOiAkKHdpbmRvdykud2lkdGgoKT4xMjgwID8gJChocmVmKS5vZmZzZXQoKS50b3AgLSAxMDAgOiAkKGhyZWYpLm9mZnNldCgpLnRvcCAtIDU3O1xuICAgICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgc2Nyb2xsVG9wOiBvZmZzZXRUb3BcbiAgICAgIH0sIDUwMCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAvLyBCaW5kIHRvIHNjcm9sbFxuICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICAvLyBHZXQgY29udGFpbmVyIHNjcm9sbCBwb3NpdGlvblxuICAgICAgdmFyIGZyb21Ub3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpICsgdG9wTWVudUhlaWdodDtcblxuICAgICAgLy8gR2V0IGlkIG9mIGN1cnJlbnQgc2Nyb2xsIGl0ZW1cbiAgICAgIHZhciBjdXIgPSBzY3JvbGxJdGVtcy5tYXAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLm9mZnNldCgpLnRvcCA8IGZyb21Ub3ApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9KTtcbiAgICAgIC8vIEdldCB0aGUgaWQgb2YgdGhlIGN1cnJlbnQgZWxlbWVudFxuICAgICAgY3VyID0gY3VyW2N1ci5sZW5ndGggLSAxXTtcbiAgICAgIHZhciBpZCA9IGN1ciAmJiBjdXIubGVuZ3RoID8gY3VyWzBdLmlkIDogXCJcIjtcblxuICAgICAgaWYgKGxhc3RJZCAhPT0gaWQpIHtcbiAgICAgICAgbGFzdElkID0gaWQ7XG4gICAgICAgIC8vIFNldC9yZW1vdmUgYWN0aXZlIGNsYXNzXG4gICAgICAgIG1lbnVJdGVtc1xuICAgICAgICAgIC5wYXJlbnQoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKVxuICAgICAgICAgIC5lbmQoKS5maWx0ZXIoXCJbaHJlZj0nI1wiICsgaWQgKyBcIiddXCIpLnBhcmVudCgpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHNjcm9sbFNweUluaXQoKTtcbiAgJCh3aW5kb3cpLnJlc2l6ZShkZWJvdW5jZSgzMDAsIGZhbHNlLCBzY3JvbGxTcHlJbml0KSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5zaWRlYmFyLW1lbnVfX2l0ZW0nLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCAxMjgwKSB7XG4gICAgICAkKCcuc2lkZWJhci13cmFwLCAuaGVhZGVyX19idXJnZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2Jsb2Nrcy9zaWRlYmFyLW1lbnUvc2lkZWJhci1tZW51LmpzIiwiLyplc2xpbnQtZGlzYWJsZSAqL1xuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAkKCcuc3dpdGNoX19pdGVtJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuc2libGluZ3MoJy5zd2l0Y2hfX2l0ZW0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5zaWJsaW5ncygnaW5wdXQnKS52YWwoJCh0aGlzKS5maW5kKCcuc3dpdGNoX190ZXh0JykudGV4dCgpKTtcbiAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9ibG9ja3Mvc3dpdGNoL3N3aXRjaC5qcyIsImV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgLyplc2xpbnQtZGlzYWJsZSovXG4gIGNvbnN0IGJ0bkNsYXNzID0gJy50by10b3AnLFxuICAgIHcgPSAkKHdpbmRvdylcblxuICB3Lm9uKCdzY3JvbGwnLCBmdW5jdGlvbigpIHtcbiAgICBpZiAody5zY3JvbGxUb3AoKSAtIHcuaW5uZXJIZWlnaHQoKSA+IDApIHtcbiAgICAgICQoYnRuQ2xhc3MpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJChidG5DbGFzcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgYnRuQ2xhc3MsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6IDBcbiAgICB9LCA2MDAsICdzd2luZycpO1xuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2Jsb2Nrcy90by10b3AvdG8tdG9wLmpzIiwiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAvKmVzbGludC1kaXNhYmxlKi9cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnVwbG9hZCcsIGZ1bmN0aW9uIChlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lc1xuICAgICAgaWYgKCQoZS50YXJnZXQpLmhhc0NsYXNzKCd1cGxvYWRfX2lucHV0JykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAkKHRoaXMpLmZpbmQoJy51cGxvYWRfX2lucHV0JykudHJpZ2dlcignY2xpY2snKTtcbiAgICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2Jsb2Nrcy91cGxvYWQvdXBsb2FkLmpzIiwiZXhwb3J0IGRlZmF1bHQoKSA9PiB7XG4gIC8qZXNsaW50LWRpc2FibGUqL1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmhlYWRlcl9fYnVyZ2VyJywgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCgnLnNpZGViYXItd3JhcCcpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9jb21wb25lbnRzL2hlYWRlci9oZWFkZXIuanMiLCJleHBvcnQgZGVmYXVsdCAoKSA9PiB7XHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgY29uc3QgaGVyb1NsaWRlciA9IG5ldyBTd2lwZXIoJy5oZXJvLXNsaWRlcicsIHtcclxuICAgIG5leHRCdXR0b246ICcuc2xpZGVyX19jb250cm9sX25leHQnLFxyXG4gICAgcHJldkJ1dHRvbjogJy5zbGlkZXJfX2NvbnRyb2xfcHJldicsXHJcbiAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgc3BhY2VCZXR3ZWVuOiAzNSxcclxuICAgIGJyZWFrcG9pbnRzOiB7XHJcbiAgICAgIDEyODA6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogNDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIDEwMjQ6IHtcclxuICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxyXG4gICAgICAgIHNwYWNlQmV0d2VlbjogNjAsXHJcbiAgICAgIH0sXHJcbiAgICAgIDY0MDoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2NvbXBvbmVudHMvaGVyby1zbGlkZXIvaGVyby1zbGlkZXIuanMiLCIvKmVzbGludC1kaXNhYmxlKi9cclxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xyXG5cclxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmlubmVyLWhlYWRlcl9fY29sX2Ryb3Bkb3duJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCQodGhpcykpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICQodGhpcykucGFyZW50cygnLmlubmVyLWhlYWRlcicpLmZpbmQoJy5pbm5lci1oZWFkZXJfX3NlYXJjaCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gIH0pO1xyXG5cclxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmlubmVyLWhlYWRlcl9fc2VhcmNoLWJ0bicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgJCh0aGlzKS5zaWJsaW5ncygnLmlubmVyLWhlYWRlcl9fbm90aWZ5LXdyYXAnKS5maW5kKCcuaW5uZXItaGVhZGVyX19jb2xfZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKHRoaXMpLnNpYmxpbmdzKCcuaW5uZXItaGVhZGVyX19zZWFyY2gnKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgfSlcclxuXHJcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5pbm5lci1oZWFkZXJfX2J1cmdlcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKCcuaW5uZXItc2lkZWJhcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICB9KVxyXG5cclxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuaW5uZXItaGVhZGVyX19jb2xfZHJvcGRvd24nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgfSlcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9jb21wb25lbnRzL2lubmVyLWhlYWRlci9pbm5lci1oZWFkZXIuanMiLCJleHBvcnQgZGVmYXVsdCAoKSA9PiB7XHJcbiAgLyplc2xpbnQtZGlzYWJsZSovXHJcbiAgJChkb2N1bWVudCkub24oJ2lucHV0JywgJy5tZXNzYWdlc19faW5wdXQtYXJlYScsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoISQodGhpcykudGV4dCgpLmxlbmd0aCkge1xuICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLm1lc3NhZ2VzX19wbGFjZWhvbGRlcicpLmZhZGVJbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKHRoaXMpLnNpYmxpbmdzKCcubWVzc2FnZXNfX3BsYWNlaG9sZGVyJykuZmFkZU91dCgpO1xuICAgIH1cclxuICB9KTtcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9jb21wb25lbnRzL21lc3NhZ2VzL21lc3NhZ2VzLmpzIiwiZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxyXG4gIGNvbnN0IG5ld3NTbGlkZXIgPSBuZXcgU3dpcGVyKCcubmV3cy1zbGlkZXInLCB7XHJcbiAgICBuZXh0QnV0dG9uOiAnLnNsaWRlcl9fY29udHJvbF9uZXh0JyxcclxuICAgIHByZXZCdXR0b246ICcuc2xpZGVyX19jb250cm9sX3ByZXYnLFxyXG4gICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgIHNwYWNlQmV0d2VlbjogMzAsXHJcbiAgICBicmVha3BvaW50czoge1xyXG4gICAgICAxMjgwOiB7XHJcbiAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgfSxcclxuICAgICAgMTAyNDoge1xyXG4gICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL2NvbXBvbmVudHMvbmV3cy1zbGlkZXIvbmV3cy1zbGlkZXIuanMiLCIvKmVzbGludC1kaXNhYmxlKi9cblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLXZpZGVvLXBsYXknLCBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdmFyIG1lZGlhRWxlbWVudCA9ICQodGhpcykuc2libGluZ3MoJy5wbGF0ZV9fdmlkZW8tcGxhY2Vob2xkZXInKS5maW5kKCcucGxhdGVfX3ZpZGVvJyk7XG5cbiAgICAkKHRoaXMpLmZhZGVPdXQoKTtcblxuICAgIGlmIChtZWRpYUVsZW1lbnQucHJvcCgndGFnTmFtZScpID09PSAnSUZSQU1FJykge1xuICAgICAgbWVkaWFFbGVtZW50WzBdLnNyYyArPSAnJmF1dG9wbGF5PTEnO1xuICAgIH0gZWxzZSBpZiAobWVkaWFFbGVtZW50LnByb3AoJ3RhZ05hbWUnKSA9PT0gJ1ZJREVPJykge1xuICAgICAgbWVkaWFFbGVtZW50WzBdLnBsYXkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJDYW4ndCBmaW5kIHZpZGVvIGluIHBsYWNlaG9sZGVyXCIpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9jb21wb25lbnRzL3BsYXRlcy92aWRlby1wbGF5LmpzIiwiZXhwb3J0IGRlZmF1bHQgKCkgPT4geyAvKmVzbGludC1kaXNhYmxlKi9cclxuICBjb25zdCBtYXAgPSAkKCcuam9iLWxpc3RpbmdfX21hcCcpO1xyXG4gIGlmICghbWFwLmxlbmd0aCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdG9nZ2xlTWFwKCkge1xyXG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpIDwgMTYwMCkge1xyXG4gICAgICBtYXAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICBtYXAuZmluZCgnLnNpZGUtbW9kYWxfX3RvZ2dsZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtYXAuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICBtYXAuZmluZCgnLnNpZGUtbW9kYWxfX3RvZ2dsZXInKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIHRvZ2dsZU1hcCk7XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvcGFnZXMvam9iLWxpc3Rpbmcvam9iLWxpc3RpbmcuanMiLCJleHBvcnQgZGVmYXVsdCAoKSA9PiB7IC8qZXNsaW50LWRpc2FibGUqL1xyXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtcGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5wYWdlX19vdmVybGF5JykuZmFkZUluKCk7XHJcbiAgICAkKCcuaW5uZXItY2FyZCcpLmFkZENsYXNzKCdpbm5lci1jYXJkX3BpY2snKTtcclxuICB9KTtcclxuXHJcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qcy1waWNrLWRpc21pc3MnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcucGFnZV9fb3ZlcmxheScpLmZhZGVPdXQoKTtcclxuICAgICQoJy5zaWRlLW1vZGFsLCAuc2lkZS1tb2RhbF9fdG9nZ2xlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICQoJy5pbm5lci1jYXJkJykucmVtb3ZlQ2xhc3MoJ2lubmVyLWNhcmRfcGljaycpO1xyXG4gIH0pO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL3BhZ2VzL3Nob3J0bGlzdC9zaG9ydGxpc3QuanMiLCJleHBvcnQgZGVmYXVsdCAoKSA9PiB7IC8qZXNsaW50LWRpc2FibGUqL1xyXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanMtdmFjYW5jeScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKCcucGFnZV9fb3ZlcmxheScpLmZhZGVJbigpO1xyXG4gIH0pO1xyXG5cclxuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzLXZhY2FuY3ktY2xvc2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJCgnLnBhZ2VfX292ZXJsYXknKS5mYWRlT3V0KCk7XHJcbiAgfSk7XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvcGFnZXMvc3VnZ2VzdGVkLWpvYnMvc3VnZ2VzdGVkLWpvYnMuanMiLCIvKmVzbGludC1kaXNhYmxlKi9cclxuZXhwb3J0IGRlZmF1bHQoKSA9PiB7XHJcbiAgLy8gdHh0IGlzIHRoZSB0ZXh0IHRvIG1lYXN1cmUsIGZvbnQgaXMgdGhlIGZ1bGwgQ1NTIGZvbnQgZGVjbGFyYXRpb24sXHJcbiAgLy8gZS5nLiBcImJvbGQgMTJweCBWZXJkYW5hXCJcclxuICBmdW5jdGlvbiBtZWFzdXJlVGV4dCh0eHQsIGZvbnQpIHtcclxuICAgIHZhciBpZCA9ICd0ZXh0LXdpZHRoLXRlc3RlcicsXHJcbiAgICAgICR0YWcgPSAkKCcjJyArIGlkKTtcclxuICAgIGlmICghJHRhZy5sZW5ndGgpIHtcclxuICAgICAgJHRhZyA9ICQoJzxzcGFuIGlkPVwiJyArIGlkICsgJ1wiIHN0eWxlPVwiZGlzcGxheTpub25lO2ZvbnQ6JyArIGZvbnQgKyAnO1wiPicgKyB0eHQgKyAnPC9zcGFuPicpO1xyXG4gICAgICAkKCdib2R5JykuYXBwZW5kKCR0YWcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJHRhZy5jc3Moe1xyXG4gICAgICAgIGZvbnQ6IGZvbnRcclxuICAgICAgfSkuaHRtbCh0eHQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2lkdGg6ICR0YWcud2lkdGgoKSxcclxuICAgICAgaGVpZ2h0OiAkdGFnLmhlaWdodCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB3aW5kb3cuc2hyaW5rVG9GaWxsID0gIGZ1bmN0aW9uIChpbnB1dCwgZm9udFNpemUsIGZvbnRXZWlnaHQsIGZvbnRGYW1pbHkpIHtcclxuICAgIGlmICghaW5wdXQubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciAkaW5wdXQgPSAkKGlucHV0KSxcclxuICAgICAgdHh0ID0gJGlucHV0LnZhbCgpfHwkaW5wdXQudGV4dCgpLFxyXG4gICAgICBtYXhXaWR0aCA9ICRpbnB1dC5wYXJlbnQoKS53aWR0aCgpLCAvLyBhZGQgc29tZSBwYWRkaW5nXHJcbiAgICAgIGZvbnQgPSBmb250V2VpZ2h0ICsgXCIgXCIgKyBmb250U2l6ZSArIFwicHggXCIgKyBmb250RmFtaWx5O1xyXG4gICAgLy8gc2VlIGhvdyBiaWcgdGhlIHRleHQgaXMgYXQgdGhlIGRlZmF1bHQgc2l6ZVxyXG4gICAgdmFyIHRleHRXaWR0aCA9IG1lYXN1cmVUZXh0KHR4dCwgZm9udCkud2lkdGg7XHJcbiAgICBpZiAodGV4dFdpZHRoID4gbWF4V2lkdGgpIHtcclxuICAgICAgLy8gaWYgaXQncyB0b28gYmlnLCBjYWxjdWxhdGUgYSBuZXcgZm9udCBzaXplXHJcbiAgICAgIC8vIHRoZSBleHRyYSAuOSBoZXJlIG1ha2VzIHVwIGZvciBzb21lIG92ZXItbWVhc3VyZXNcclxuICAgICAgZm9udFNpemUgPSBmb250U2l6ZSAqIG1heFdpZHRoIC8gdGV4dFdpZHRoO1xyXG4gICAgICBmb250ID0gZm9udFdlaWdodCArIFwiIFwiICsgZm9udFNpemUgKyBcInB4IFwiICsgZm9udEZhbWlseTtcclxuICAgICAgLy8gYW5kIHNldCB0aGUgc3R5bGUgb24gdGhlIGlucHV0XHJcbiAgICAgICRpbnB1dC5jc3Moe1xyXG4gICAgICAgIGZvbnQ6IGZvbnRcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBpbiBjYXNlIHRoZSBmb250IHNpemUgaGFzIGJlZW4gc2V0IHNtYWxsIGFuZFxyXG4gICAgICAvLyB0aGUgdGV4dCB3YXMgdGhlbiBkZWxldGVkXHJcbiAgICAgICRpbnB1dC5jc3Moe1xyXG4gICAgICAgIGZvbnQ6IGZvbnRcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHJpbmtUb0ZpbGwoJCgnLnJlc3BvbnNpdmUtZm9udCcpLCA1MywgMTAwLCBcIk11c2VvIFNhbnMsIHNhbnMtc2VyaWZcIik7XHJcblxyXG4gICQoZG9jdW1lbnQpLm9uKCdpbnB1dCcsICcucmVzcG9uc2l2ZS1mb250JywgZnVuY3Rpb24gKCkge1xyXG4gICAgc2hyaW5rVG9GaWxsKCQodGhpcyksIDUzLCAxMDAsIFwiTXVzZW8gU2Fucywgc2Fucy1zZXJpZlwiKTtcclxuICB9KTtcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9zY3JpcHRzL2NvbW1vbi9maXRUZXh0LmpzIiwiLyplc2xpbnQtZGlzYWJsZSovXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIGNvbnN0IGdyaWQgPSAkKCcuaXNvdG9wZScpO1xuICBjb25zdCBtb2JpbGVGaWx0ZXJDbGFzcyA9ICcuanMtY2FzZS1maWx0ZXItbW9iaWxlJztcbiAgY29uc3QgZmlsdGVyQ2xhc3MgPSAnLmpzLWNhc2UtZmlsdGVyJztcblxuICBpZiAoIWdyaWQubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZ3JpZC5pc290b3BlKHtcbiAgICBpdGVtU2VsZWN0b3I6ICcuaXNvdG9wZS1pdGVtJyxcbiAgICBsYXlvdXRNb2RlOiAnbWFzb25yeScsXG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCBtb2JpbGVGaWx0ZXJDbGFzcywgZnVuY3Rpb24oKSB7XG4gICAgZ3JpZC5pc290b3BlKHtcbiAgICAgIGZpbHRlcjogJChtb2JpbGVGaWx0ZXJDbGFzcykudmFsKClcbiAgICB9KTtcbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgZmlsdGVyQ2xhc3MsIGZ1bmN0aW9uKCkge1xuICAgICQoZmlsdGVyQ2xhc3MpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgIGdyaWQuaXNvdG9wZSh7XG4gICAgICBmaWx0ZXI6ICQodGhpcykuYXR0cignZGF0YS1maWx0ZXInKVxuICAgIH0pO1xuICB9KTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXBwL3NjcmlwdHMvY29tbW9uL2lzb3RvcGUuanMiLCIvKmVzbGludC1kaXNhYmxlKi9cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgd2luZG93LnNyID0gU2Nyb2xsUmV2ZWFsKHtcbiAgICBkaXN0YW5jZTogJzU1cHgnLFxuICAgIHZpZXdGYWN0b3I6IDAuNSxcbiAgfSk7XG5cbiAgaWYoISQoJy5zci1hbmltYXRlJykubGVuZ3RoKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBzci5yZXZlYWwoJy5zci1hbmltYXRlJyk7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9zY3JpcHRzL2NvbW1vbi9zY3JvbGxyZXZlYWwuanMiLCJpbXBvcnQgcmFuZ2VTbGlkZXIgZnJvbSAnLi4vYmxvY2tzL3Jhbmdlc2xpZGVyL3Jhbmdlc2xpZGVyJztcclxuaW1wb3J0IHN3aXRjaEluaXQgZnJvbSAnLi4vYmxvY2tzL3N3aXRjaC9zd2l0Y2gnO1xyXG5pbXBvcnQgdmlkZW9QbGF5IGZyb20gJy4uL2NvbXBvbmVudHMvcGxhdGVzL3ZpZGVvLXBsYXknO1xyXG5pbXBvcnQgaXNvdG9wZSBmcm9tICcuL2NvbW1vbi9pc290b3BlJztcclxuaW1wb3J0IHN0aWNreU5hdmJhciBmcm9tICcuLi9ibG9ja3Mvc2lkZWJhci1tZW51L3NpZGViYXItbWVudSc7XHJcbmltcG9ydCBzY3JvbGxSZXZlYWxJbml0IGZyb20gJy4vY29tbW9uL3Njcm9sbHJldmVhbCc7XHJcbmltcG9ydCB1cGxvYWQgZnJvbSAnLi4vYmxvY2tzL3VwbG9hZC91cGxvYWQnO1xyXG5pbXBvcnQgaW5uZXJDYXJkIGZyb20gJy4uL2Jsb2Nrcy9pbm5lci1jYXJkL2lubmVyLWNhcmQnO1xyXG5pbXBvcnQgY29tcGFueVZpZGVvIGZyb20gJy4uL2Jsb2Nrcy9jb21wYW55LXZpZGVvL2NvbXBhbnktdmlkZW8nO1xyXG5pbXBvcnQgbWFwIGZyb20gJy4uL2Jsb2Nrcy9tYXAvbWFwJztcclxuaW1wb3J0IGlubmVySGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvaW5uZXItaGVhZGVyL2lubmVyLWhlYWRlcic7XHJcbmltcG9ydCBzZWxlY3QgZnJvbSAnLi4vYmxvY2tzL3NlbGVjdC9zZWxlY3QnO1xyXG5pbXBvcnQgbmV3c1NsaWRlciBmcm9tICcuLi9jb21wb25lbnRzL25ld3Mtc2xpZGVyL25ld3Mtc2xpZGVyJztcclxuaW1wb3J0IGhlcm9TbGlkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9oZXJvLXNsaWRlci9oZXJvLXNsaWRlcic7XHJcbmltcG9ydCBmaXRUZXh0IGZyb20gJy4vY29tbW9uL2ZpdFRleHQnO1xyXG5pbXBvcnQgaGVhZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlcic7XHJcbmltcG9ydCB0b1RvcCBmcm9tICcuLi9ibG9ja3MvdG8tdG9wL3RvLXRvcCc7XHJcbmltcG9ydCBqc1Byb2dyZXNzIGZyb20gJy4uL2Jsb2Nrcy9qcy1wcm9ncmVzcy9qcy1wcm9ncmVzcyc7XHJcbmltcG9ydCBhY3Rpdml0eUNoYXJ0IGZyb20gJy4uL2Jsb2Nrcy9hY3Rpdml0eS1jaGFydC9hY3Rpdml0eS1jaGFydCc7XHJcbmltcG9ydCBtZXNzYWdlcyBmcm9tICcuLi9jb21wb25lbnRzL21lc3NhZ2VzL21lc3NhZ2VzJztcclxuaW1wb3J0IGNoZWNrYm94IGZyb20gJy4uL2Jsb2Nrcy9jaGVja2JveC9jaGVja2JveCc7XHJcbmltcG9ydCByYWRpbyBmcm9tICcuLi9ibG9ja3MvcmFkaW8vcmFkaW8nO1xyXG5pbXBvcnQgc2lkZU1vZGFsIGZyb20gJy4uL2Jsb2Nrcy9zaWRlLW1vZGFsL3NpZGUtbW9kYWwnO1xyXG5pbXBvcnQgam9iTGlzdGluZyBmcm9tICcuLi9wYWdlcy9qb2ItbGlzdGluZy9qb2ItbGlzdGluZyc7XHJcbmltcG9ydCBzaG9ydGxpc3QgZnJvbSAnLi4vcGFnZXMvc2hvcnRsaXN0L3Nob3J0bGlzdCc7XHJcbmltcG9ydCBzdWdnZXN0ZWRKb2JzIGZyb20gJy4uL3BhZ2VzL3N1Z2dlc3RlZC1qb2JzL3N1Z2dlc3RlZC1qb2JzJztcclxuXHJcbi8qIGVzbGludC1kaXNhYmxlKi9cclxuJCgoKSA9PiB7XHJcbiAgb2JqZWN0Rml0SW1hZ2VzKCk7XHJcbiAgc3ZnNGV2ZXJ5Ym9keSgpO1xyXG4gIGhlYWRlcigpO1xyXG4gIHRvVG9wKCk7XHJcbiAgcmFuZ2VTbGlkZXIoKTtcclxuICB3aW5kb3cuaW5pdFJhbmdlU2xpZGVyID0gcmFuZ2VTbGlkZXI7XHJcbiAgc3dpdGNoSW5pdCgpO1xyXG4gIHZpZGVvUGxheSgpO1xyXG4gIGlzb3RvcGUoKTtcclxuICB3aW5kb3cuaW5pdElzb3RvcGUgPSBpc290b3BlO1xyXG4gIHN0aWNreU5hdmJhcigpO1xyXG4gIHNjcm9sbFJldmVhbEluaXQoKTtcclxuICB1cGxvYWQoKTtcclxuICBpbm5lckNhcmQoKTtcclxuICBjb21wYW55VmlkZW8oKTtcclxuICBtYXAoKTtcclxuICBpbm5lckhlYWRlcigpO1xyXG4gIHNlbGVjdCgpO1xyXG4gIHdpbmRvdy5pbml0U2VsZWN0ID0gc2VsZWN0O1xyXG4gIG5ld3NTbGlkZXIoKTtcclxuICBoZXJvU2xpZGVyKCk7XHJcbiAgZml0VGV4dCgpO1xyXG4gIGpzUHJvZ3Jlc3MoKTtcclxuICBhY3Rpdml0eUNoYXJ0KCk7XHJcbiAgbWVzc2FnZXMoKTtcclxuICBjaGVja2JveCgpO1xyXG4gIHdpbmRvdy5jaGVja2JveEluaXQgPSBjaGVja2JveDtcclxuICByYWRpbygpO1xyXG4gIHdpbmRvdy5yYWRpb0luaXQgPSByYWRpbztcclxuICBzaWRlTW9kYWwoKTtcclxuICBqb2JMaXN0aW5nKCk7XHJcbiAgc2hvcnRsaXN0KCk7XHJcbiAgc3VnZ2VzdGVkSm9icygpO1xyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGFwcC9zY3JpcHRzL2FwcC5qcyIsImltcG9ydCBsb2FkR29vZ2xlTWFwc0FQSSBmcm9tICdsb2FkLWdvb2dsZS1tYXBzLWFwaSc7XG5cbmV4cG9ydCBkZWZhdWx0IGxvYWRHb29nbGVNYXBzQVBJKHsga2V5OiAnQUl6YVN5QWhUbWd0TXRFRG9yRHNRd3lya3JMUGpBaWU4ZzdJVjM0JyB9KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhcHAvc2NyaXB0cy9jb21tb24vbWFwLmpzIiwidmFyIENBTExCQUNLX05BTUUgPSAnX19nb29nbGVNYXBzQXBpT25Mb2FkQ2FsbGJhY2snXG5cbnZhciBPUFRJT05TX0tFWVMgPSBbJ2NsaWVudCcsICdrZXknLCAnbGFuZ3VhZ2UnLCAncmVnaW9uJywgJ3YnXVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gRXhpdCBpZiBub3QgcnVubmluZyBpbnNpZGUgYSBicm93c2VyLlxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHJlamVjdChcbiAgICAgICAgbmV3IEVycm9yKCdDYW4gb25seSBsb2FkIHRoZSBHb29nbGUgTWFwcyBBUEkgaW4gdGhlIGJyb3dzZXInKVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIFJlamVjdCB0aGUgcHJvbWlzZSBhZnRlciBhIHRpbWVvdXQuXG4gICAgdmFyIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB3aW5kb3dbQ0FMTEJBQ0tfTkFNRV0gPSBmdW5jdGlvbigpIHt9IC8vIFNldCB0aGUgb24gbG9hZCBjYWxsYmFjayB0byBhIG5vLW9wLlxuICAgICAgcmVqZWN0KG5ldyBFcnJvcignQ291bGQgbm90IGxvYWQgdGhlIEdvb2dsZSBNYXBzIEFQSScpKVxuICAgIH0sIG9wdGlvbnMudGltZW91dCB8fCAxMDAwMClcblxuICAgIC8vIEhvb2sgdXAgdGhlIG9uIGxvYWQgY2FsbGJhY2suXG4gICAgd2luZG93W0NBTExCQUNLX05BTUVdID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGltZW91dElkICE9PSBudWxsKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpXG4gICAgICB9XG4gICAgICByZXNvbHZlKHdpbmRvdy5nb29nbGUubWFwcylcbiAgICAgIGRlbGV0ZSB3aW5kb3dbQ0FMTEJBQ0tfTkFNRV1cbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIHRoZSBgc2NyaXB0YCB0YWcgdG8gYmUgaW5zZXJ0ZWQgaW50byB0aGUgcGFnZS5cbiAgICB2YXIgc2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpXG4gICAgdmFyIHBhcmFtcyA9IFsnY2FsbGJhY2s9JyArIENBTExCQUNLX05BTUVdXG4gICAgT1BUSU9OU19LRVlTLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAob3B0aW9uc1trZXldKSB7XG4gICAgICAgIHBhcmFtcy5wdXNoKGtleSArICc9JyArIG9wdGlvbnNba2V5XSlcbiAgICAgIH1cbiAgICB9KVxuICAgIGlmIChvcHRpb25zLmxpYnJhcmllcyAmJiBvcHRpb25zLmxpYnJhcmllcy5sZW5ndGgpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdsaWJyYXJpZXM9JyArIG9wdGlvbnMubGlicmFyaWVzLmpvaW4oJywnKSlcbiAgICB9XG4gICAgc2NyaXB0RWxlbWVudC5zcmMgPVxuICAgICAgJ2h0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz8nICsgcGFyYW1zLmpvaW4oJyYnKVxuXG4gICAgLy8gSW5zZXJ0IHRoZSBgc2NyaXB0YCB0YWcuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHRFbGVtZW50KVxuICB9KVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2xvYWQtZ29vZ2xlLW1hcHMtYXBpL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZmluZWQgKi9cblxudmFyIHRocm90dGxlID0gcmVxdWlyZSgnLi90aHJvdHRsZScpO1xuXG4vKipcbiAqIERlYm91bmNlIGV4ZWN1dGlvbiBvZiBhIGZ1bmN0aW9uLiBEZWJvdW5jaW5nLCB1bmxpa2UgdGhyb3R0bGluZyxcbiAqIGd1YXJhbnRlZXMgdGhhdCBhIGZ1bmN0aW9uIGlzIG9ubHkgZXhlY3V0ZWQgYSBzaW5nbGUgdGltZSwgZWl0aGVyIGF0IHRoZVxuICogdmVyeSBiZWdpbm5pbmcgb2YgYSBzZXJpZXMgb2YgY2FsbHMsIG9yIGF0IHRoZSB2ZXJ5IGVuZC5cbiAqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICAgZGVsYXkgICAgICAgICBBIHplcm8tb3ItZ3JlYXRlciBkZWxheSBpbiBtaWxsaXNlY29uZHMuIEZvciBldmVudCBjYWxsYmFja3MsIHZhbHVlcyBhcm91bmQgMTAwIG9yIDI1MCAob3IgZXZlbiBoaWdoZXIpIGFyZSBtb3N0IHVzZWZ1bC5cbiAqIEBwYXJhbSAge0Jvb2xlYW59ICBhdEJlZ2luICAgICAgIE9wdGlvbmFsLCBkZWZhdWx0cyB0byBmYWxzZS4gSWYgYXRCZWdpbiBpcyBmYWxzZSBvciB1bnNwZWNpZmllZCwgY2FsbGJhY2sgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIGBkZWxheWAgbWlsbGlzZWNvbmRzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlciB0aGUgbGFzdCBkZWJvdW5jZWQtZnVuY3Rpb24gY2FsbC4gSWYgYXRCZWdpbiBpcyB0cnVlLCBjYWxsYmFjayB3aWxsIGJlIGV4ZWN1dGVkIG9ubHkgYXQgdGhlIGZpcnN0IGRlYm91bmNlZC1mdW5jdGlvbiBjYWxsLlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEFmdGVyIHRoZSB0aHJvdHRsZWQtZnVuY3Rpb24gaGFzIG5vdCBiZWVuIGNhbGxlZCBmb3IgYGRlbGF5YCBtaWxsaXNlY29uZHMsIHRoZSBpbnRlcm5hbCBjb3VudGVyIGlzIHJlc2V0KS5cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFjayAgICAgIEEgZnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWQgYWZ0ZXIgZGVsYXkgbWlsbGlzZWNvbmRzLiBUaGUgYHRoaXNgIGNvbnRleHQgYW5kIGFsbCBhcmd1bWVudHMgYXJlIHBhc3NlZCB0aHJvdWdoLCBhcy1pcyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvIGBjYWxsYmFja2Agd2hlbiB0aGUgZGVib3VuY2VkLWZ1bmN0aW9uIGlzIGV4ZWN1dGVkLlxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBBIG5ldywgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICggZGVsYXksIGF0QmVnaW4sIGNhbGxiYWNrICkge1xuXHRyZXR1cm4gY2FsbGJhY2sgPT09IHVuZGVmaW5lZCA/IHRocm90dGxlKGRlbGF5LCBhdEJlZ2luLCBmYWxzZSkgOiB0aHJvdHRsZShkZWxheSwgY2FsbGJhY2ssIGF0QmVnaW4gIT09IGZhbHNlKTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdGhyb3R0bGUtZGVib3VuY2UvZGVib3VuY2UuanNcbi8vIG1vZHVsZSBpZCA9IDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciB0aHJvdHRsZSA9IHJlcXVpcmUoJy4vdGhyb3R0bGUnKTtcbnZhciBkZWJvdW5jZSA9IHJlcXVpcmUoJy4vZGVib3VuY2UnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdHRocm90dGxlOiB0aHJvdHRsZSxcblx0ZGVib3VuY2U6IGRlYm91bmNlXG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Rocm90dGxlLWRlYm91bmNlL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QTs7OztBQ2hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUMxRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUpBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQVpBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBTEE7QUFyQkE7QUFsQkE7QUFqQkE7QUFxRUE7Ozs7Ozs7QUNwSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNaQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBOzs7Ozs7O0FDbklBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQy9DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFJQTtBQUNBOzs7Ozs7O0FDNUJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNaQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDcEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNQQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7Ozs7Ozs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQURBO0FBVEE7QUFMQTtBQW1CQTs7Ozs7OztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFKQTtBQUxBO0FBY0E7Ozs7Ozs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNsQkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNqQkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNYQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDdERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTs7Ozs7OztBQzdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQ1pBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQzlEQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7Ozs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0EiLCJzb3VyY2VSb290IjoiIn0=